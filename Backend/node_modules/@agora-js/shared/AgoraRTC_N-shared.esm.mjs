/**
 * AgoraWebSDK_N-v4.20.0-0-g334e514b-dirty Copyright AgoraInc.
 */

import t from"ua-parser-js";import e from"axios";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r&&r)||function(){return this}()||r||Function("return this")(),c=function(t){try{return!!t()}catch(t){return!0}},s=!c((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),a=s,E=Function.prototype,u=E.apply,_=E.call,T="object"==typeof Reflect&&Reflect.apply||(a?_.bind(u):function(){return _.apply(u,arguments)}),l=s,A=Function.prototype,f=A.call,I=l&&A.bind.bind(f,f),R=l?I:function(t){return function(){return f.apply(t,arguments)}},O=R,S=O({}.toString),d=O("".slice),N=function(t){return d(S(t),8,-1)},h=N,p=R,C=function(t){if("Function"===h(t))return p(t)},L="object"==typeof document&&document.all,m={all:L,IS_HTMLDDA:void 0===L&&void 0!==L},y=m.all,D=m.IS_HTMLDDA?function(t){return"function"==typeof t||t===y}:function(t){return"function"==typeof t},g={},v=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),P=s,b=Function.prototype.call,M=P?b.bind(b):function(){return b.apply(b,arguments)},U={},w={}.propertyIsEnumerable,V=Object.getOwnPropertyDescriptor,F=V&&!w.call({1:2},1);U.f=F?function(t){var e=V(this,t);return!!e&&e.enumerable}:w;var B,k,G=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},K=c,W=N,H=Object,x=R("".split),Y=K((function(){return!H("z").propertyIsEnumerable(0)}))?function(t){return"String"==W(t)?x(t,""):H(t)}:H,j=function(t){return null==t},X=j,J=TypeError,Q=function(t){if(X(t))throw J("Can't call method on "+t);return t},z=Y,q=Q,Z=function(t){return z(q(t))},$=D,tt=m.all,et=m.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:$(t)||t===tt}:function(t){return"object"==typeof t?null!==t:$(t)},rt={},nt=rt,ot=i,it=D,ct=function(t){return it(t)?t:void 0},st=function(t,e){return arguments.length<2?ct(nt[t])||ct(ot[t]):nt[t]&&nt[t][e]||ot[t]&&ot[t][e]},at=R({}.isPrototypeOf),Et="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ut=i,_t=Et,Tt=ut.process,lt=ut.Deno,At=Tt&&Tt.versions||lt&&lt.version,ft=At&&At.v8;ft&&(k=(B=ft.split("."))[0]>0&&B[0]<4?1:+(B[0]+B[1])),!k&&_t&&(!(B=_t.match(/Edge\/(\d+)/))||B[1]>=74)&&(B=_t.match(/Chrome\/(\d+)/))&&(k=+B[1]);var It=k,Rt=It,Ot=c,St=i.String,dt=!!Object.getOwnPropertySymbols&&!Ot((function(){var t=Symbol();return!St(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Rt&&Rt<41})),Nt=dt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ht=st,pt=D,Ct=at,Lt=Object,mt=Nt?function(t){return"symbol"==typeof t}:function(t){var e=ht("Symbol");return pt(e)&&Ct(e.prototype,Lt(t))},yt=String,Dt=function(t){try{return yt(t)}catch(t){return"Object"}},gt=D,vt=Dt,Pt=TypeError,bt=function(t){if(gt(t))return t;throw Pt(vt(t)+" is not a function")},Mt=bt,Ut=j,wt=function(t,e){var r=t[e];return Ut(r)?void 0:Mt(r)},Vt=M,Ft=D,Bt=et,kt=TypeError,Gt={exports:{}},Kt=i,Wt=Object.defineProperty,Ht=function(t,e){try{Wt(Kt,t,{value:e,configurable:!0,writable:!0})}catch(r){Kt[t]=e}return e},xt="__core-js_shared__",Yt=i[xt]||Ht(xt,{}),jt=Yt;(Gt.exports=function(t,e){return jt[t]||(jt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Xt=Gt.exports,Jt=Q,Qt=Object,zt=function(t){return Qt(Jt(t))},qt=zt,Zt=R({}.hasOwnProperty),$t=Object.hasOwn||function(t,e){return Zt(qt(t),e)},te=R,ee=0,re=Math.random(),ne=te(1..toString),oe=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ne(++ee+re,36)},ie=Xt,ce=$t,se=oe,ae=dt,Ee=Nt,ue=i.Symbol,_e=ie("wks"),Te=Ee?ue.for||ue:ue&&ue.withoutSetter||se,le=function(t){return ce(_e,t)||(_e[t]=ae&&ce(ue,t)?ue[t]:Te("Symbol."+t)),_e[t]},Ae=M,fe=et,Ie=mt,Re=wt,Oe=function(t,e){var r,n;if("string"===e&&Ft(r=t.toString)&&!Bt(n=Vt(r,t)))return n;if(Ft(r=t.valueOf)&&!Bt(n=Vt(r,t)))return n;if("string"!==e&&Ft(r=t.toString)&&!Bt(n=Vt(r,t)))return n;throw kt("Can't convert object to primitive value")},Se=TypeError,de=le("toPrimitive"),Ne=function(t,e){if(!fe(t)||Ie(t))return t;var r,n=Re(t,de);if(n){if(void 0===e&&(e="default"),r=Ae(n,t,e),!fe(r)||Ie(r))return r;throw Se("Can't convert object to primitive value")}return void 0===e&&(e="number"),Oe(t,e)},he=mt,pe=function(t){var e=Ne(t,"string");return he(e)?e:e+""},Ce=et,Le=i.document,me=Ce(Le)&&Ce(Le.createElement),ye=function(t){return me?Le.createElement(t):{}},De=ye,ge=!v&&!c((function(){return 7!=Object.defineProperty(De("div"),"a",{get:function(){return 7}}).a})),ve=v,Pe=M,be=U,Me=G,Ue=Z,we=pe,Ve=$t,Fe=ge,Be=Object.getOwnPropertyDescriptor;g.f=ve?Be:function(t,e){if(t=Ue(t),e=we(e),Fe)try{return Be(t,e)}catch(t){}if(Ve(t,e))return Me(!Pe(be.f,t,e),t[e])};var ke=c,Ge=D,Ke=/#|\.prototype\./,We=function(t,e){var r=xe[He(t)];return r==je||r!=Ye&&(Ge(e)?ke(e):!!e)},He=We.normalize=function(t){return String(t).replace(Ke,".").toLowerCase()},xe=We.data={},Ye=We.NATIVE="N",je=We.POLYFILL="P",Xe=We,Je=bt,Qe=s,ze=C(C.bind),qe=function(t,e){return Je(t),void 0===e?t:Qe?ze(t,e):function(){return t.apply(e,arguments)}},Ze={},$e=v&&c((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),tr=et,er=String,rr=TypeError,nr=function(t){if(tr(t))return t;throw rr(er(t)+" is not an object")},or=v,ir=ge,cr=$e,sr=nr,ar=pe,Er=TypeError,ur=Object.defineProperty,_r=Object.getOwnPropertyDescriptor,Tr="enumerable",lr="configurable",Ar="writable";Ze.f=or?cr?function(t,e,r){if(sr(t),e=ar(e),sr(r),"function"==typeof t&&"prototype"===e&&"value"in r&&Ar in r&&!r[Ar]){var n=_r(t,e);n&&n[Ar]&&(t[e]=r.value,r={configurable:lr in r?r[lr]:n[lr],enumerable:Tr in r?r[Tr]:n[Tr],writable:!1})}return ur(t,e,r)}:ur:function(t,e,r){if(sr(t),e=ar(e),sr(r),ir)try{return ur(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Er("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var fr=Ze,Ir=G,Rr=v?function(t,e,r){return fr.f(t,e,Ir(1,r))}:function(t,e,r){return t[e]=r,t},Or=i,Sr=T,dr=C,Nr=D,hr=g.f,pr=Xe,Cr=rt,Lr=qe,mr=Rr,yr=$t,Dr=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return Sr(t,this,arguments)};return e.prototype=t.prototype,e},gr=function(t,e){var r,n,o,i,c,s,a,E,u,_=t.target,T=t.global,l=t.stat,A=t.proto,f=T?Or:l?Or[_]:(Or[_]||{}).prototype,I=T?Cr:Cr[_]||mr(Cr,_,{})[_],R=I.prototype;for(i in e)n=!(r=pr(T?i:_+(l?".":"#")+i,t.forced))&&f&&yr(f,i),s=I[i],n&&(a=t.dontCallGetSet?(u=hr(f,i))&&u.value:f[i]),c=n&&a?a:e[i],n&&typeof s==typeof c||(E=t.bind&&n?Lr(c,Or):t.wrap&&n?Dr(c):A&&Nr(c)?dr(c):c,(t.sham||c&&c.sham||s&&s.sham)&&mr(E,"sham",!0),mr(I,i,E),A&&(yr(Cr,o=_+"Prototype")||mr(Cr,o,{}),mr(Cr[o],i,c),t.real&&R&&(r||!R[i])&&mr(R,i,c)))},vr=oe,Pr=Xt("keys"),br=function(t){return Pr[t]||(Pr[t]=vr(t))},Mr=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ur=$t,wr=D,Vr=zt,Fr=Mr,Br=br("IE_PROTO"),kr=Object,Gr=kr.prototype,Kr=Fr?kr.getPrototypeOf:function(t){var e=Vr(t);if(Ur(e,Br))return e[Br];var r=e.constructor;return wr(r)&&e instanceof r?r.prototype:e instanceof kr?Gr:null},Wr=R,Hr=bt,xr=D,Yr=String,jr=TypeError,Xr=function(t,e,r){try{return Wr(Hr(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},Jr=nr,Qr=function(t){if("object"==typeof t||xr(t))return t;throw jr("Can't set "+Yr(t)+" as a prototype")},zr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Xr(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Jr(r),Qr(n),e?t(r,n):r.__proto__=n,r}}():void 0),qr={},Zr=Math.ceil,$r=Math.floor,tn=Math.trunc||function(t){var e=+t;return(e>0?$r:Zr)(e)},en=function(t){var e=+t;return e!=e||0===e?0:tn(e)},rn=en,nn=Math.max,on=Math.min,cn=function(t,e){var r=rn(t);return r<0?nn(r+e,0):on(r,e)},sn=en,an=Math.min,En=function(t){return t>0?an(sn(t),9007199254740991):0},un=function(t){return En(t.length)},_n=Z,Tn=cn,ln=un,An=function(t){return function(e,r,n){var o,i=_n(e),c=ln(i),s=Tn(n,c);if(t&&r!=r){for(;c>s;)if((o=i[s++])!=o)return!0}else for(;c>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},fn={includes:An(!0),indexOf:An(!1)},In={},Rn=$t,On=Z,Sn=fn.indexOf,dn=In,Nn=R([].push),hn=function(t,e){var r,n=On(t),o=0,i=[];for(r in n)!Rn(dn,r)&&Rn(n,r)&&Nn(i,r);for(;e.length>o;)Rn(n,r=e[o++])&&(~Sn(i,r)||Nn(i,r));return i},pn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Cn=hn,Ln=pn.concat("length","prototype");qr.f=Object.getOwnPropertyNames||function(t){return Cn(t,Ln)};var mn={};mn.f=Object.getOwnPropertySymbols;var yn=st,Dn=qr,gn=mn,vn=nr,Pn=R([].concat),bn=yn("Reflect","ownKeys")||function(t){var e=Dn.f(vn(t)),r=gn.f;return r?Pn(e,r(t)):e},Mn=$t,Un=bn,wn=g,Vn=Ze,Fn={},Bn=hn,kn=pn,Gn=Object.keys||function(t){return Bn(t,kn)},Kn=v,Wn=$e,Hn=Ze,xn=nr,Yn=Z,jn=Gn;Fn.f=Kn&&!Wn?Object.defineProperties:function(t,e){xn(t);for(var r,n=Yn(e),o=jn(e),i=o.length,c=0;i>c;)Hn.f(t,r=o[c++],n[r]);return t};var Xn,Jn=st("document","documentElement"),Qn=nr,zn=Fn,qn=pn,Zn=In,$n=Jn,to=ye,eo="prototype",ro="script",no=br("IE_PROTO"),oo=function(){},io=function(t){return"<"+ro+">"+t+"</"+ro+">"},co=function(t){t.write(io("")),t.close();var e=t.parentWindow.Object;return t=null,e},so=function(){try{Xn=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;so="undefined"!=typeof document?document.domain&&Xn?co(Xn):(e=to("iframe"),r="java"+ro+":",e.style.display="none",$n.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(io("document.F=Object")),t.close(),t.F):co(Xn);for(var n=qn.length;n--;)delete so[eo][qn[n]];return so()};Zn[no]=!0;var ao=Object.create||function(t,e){var r;return null!==t?(oo[eo]=Qn(t),r=new oo,oo[eo]=null,r[no]=t):r=so(),void 0===e?r:zn.f(r,e)},Eo=et,uo=Rr,_o=Error,To=R("".replace),lo=String(_o("zxcasd").stack),Ao=/\n\s*at [^:]*:[^\n]*/,fo=Ao.test(lo),Io=G,Ro=!c((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Io(1,7)),7!==t.stack)})),Oo=Rr,So=function(t,e){if(fo&&"string"==typeof t&&!_o.prepareStackTrace)for(;e--;)t=To(t,Ao,"");return t},No=Ro,ho=Error.captureStackTrace,po={},Co=po,Lo=le("iterator"),mo=Array.prototype,yo={};yo[le("toStringTag")]="z";var Do="[object z]"===String(yo),go=Do,vo=D,Po=N,bo=le("toStringTag"),Mo=Object,Uo="Arguments"==Po(function(){return arguments}()),wo=go?Po:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Mo(t),bo))?r:Uo?Po(e):"Object"==(n=Po(e))&&vo(e.callee)?"Arguments":n},Vo=wo,Fo=wt,Bo=j,ko=po,Go=le("iterator"),Ko=function(t){if(!Bo(t))return Fo(t,Go)||Fo(t,"@@iterator")||ko[Vo(t)]},Wo=M,Ho=bt,xo=nr,Yo=Dt,jo=Ko,Xo=TypeError,Jo=M,Qo=nr,zo=wt,qo=qe,Zo=M,$o=nr,ti=Dt,ei=function(t){return void 0!==t&&(Co.Array===t||mo[Lo]===t)},ri=un,ni=at,oi=function(t,e){var r=arguments.length<2?jo(t):e;if(Ho(r))return xo(Wo(r,t));throw Xo(Yo(t)+" is not iterable")},ii=Ko,ci=function(t,e,r){var n,o;Qo(t);try{if(!(n=zo(t,"return"))){if("throw"===e)throw r;return r}n=Jo(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Qo(n),r},si=TypeError,ai=function(t,e){this.stopped=t,this.result=e},Ei=ai.prototype,ui=function(t,e,r){var n,o,i,c,s,a,E,u=r&&r.that,_=!(!r||!r.AS_ENTRIES),T=!(!r||!r.IS_RECORD),l=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),f=qo(e,u),I=function(t){return n&&ci(n,"normal",t),new ai(!0,t)},R=function(t){return _?($o(t),A?f(t[0],t[1],I):f(t[0],t[1])):A?f(t,I):f(t)};if(T)n=t.iterator;else if(l)n=t;else{if(!(o=ii(t)))throw si(ti(t)+" is not iterable");if(ei(o)){for(i=0,c=ri(t);c>i;i++)if((s=R(t[i]))&&ni(Ei,s))return s;return new ai(!1)}n=oi(t,o)}for(a=T?t.next:n.next;!(E=Zo(a,n)).done;){try{s=R(E.value)}catch(t){ci(n,"throw",t)}if("object"==typeof s&&s&&ni(Ei,s))return s}return new ai(!1)},_i=wo,Ti=String,li=function(t){if("Symbol"===_i(t))throw TypeError("Cannot convert a Symbol value to a string");return Ti(t)},Ai=li,fi=gr,Ii=at,Ri=Kr,Oi=zr,Si=function(t,e,r){for(var n=Un(e),o=Vn.f,i=wn.f,c=0;c<n.length;c++){var s=n[c];Mn(t,s)||r&&Mn(r,s)||o(t,s,i(e,s))}},di=ao,Ni=Rr,hi=G,pi=function(t,e){Eo(e)&&"cause"in e&&uo(t,"cause",e.cause)},Ci=function(t,e,r,n){No&&(ho?ho(t,e):Oo(t,"stack",So(r,n)))},Li=ui,mi=function(t,e){return void 0===t?arguments.length<2?"":e:Ai(t)},yi=le("toStringTag"),Di=Error,gi=[].push,vi=function(t,e){var r,n=Ii(Pi,this);Oi?r=Oi(Di(),n?Ri(this):Pi):(r=n?this:di(Pi),Ni(r,yi,"Error")),void 0!==e&&Ni(r,"message",mi(e)),Ci(r,vi,r.stack,1),arguments.length>2&&pi(r,arguments[2]);var o=[];return Li(t,gi,{that:o}),Ni(r,"errors",o),r};Oi?Oi(vi,Di):Si(vi,Di,{name:!0});var Pi=vi.prototype=di(Di.prototype,{constructor:hi(1,vi),message:hi(1,""),name:hi(1,"AggregateError")});fi({global:!0,constructor:!0,arity:2},{AggregateError:vi});var bi,Mi,Ui,wi=D,Vi=i.WeakMap,Fi=wi(Vi)&&/native code/.test(String(Vi)),Bi=i,ki=et,Gi=Rr,Ki=$t,Wi=Yt,Hi=br,xi=In,Yi="Object already initialized",ji=Bi.TypeError,Xi=Bi.WeakMap;if(Fi||Wi.state){var Ji=Wi.state||(Wi.state=new Xi);Ji.get=Ji.get,Ji.has=Ji.has,Ji.set=Ji.set,bi=function(t,e){if(Ji.has(t))throw ji(Yi);return e.facade=t,Ji.set(t,e),e},Mi=function(t){return Ji.get(t)||{}},Ui=function(t){return Ji.has(t)}}else{var Qi=Hi("state");xi[Qi]=!0,bi=function(t,e){if(Ki(t,Qi))throw ji(Yi);return e.facade=t,Gi(t,Qi,e),e},Mi=function(t){return Ki(t,Qi)?t[Qi]:{}},Ui=function(t){return Ki(t,Qi)}}var zi,qi,Zi,$i={set:bi,get:Mi,has:Ui,enforce:function(t){return Ui(t)?Mi(t):bi(t,{})},getterFor:function(t){return function(e){var r;if(!ki(e)||(r=Mi(e)).type!==t)throw ji("Incompatible receiver, "+t+" required");return r}}},tc=v,ec=$t,rc=Function.prototype,nc=tc&&Object.getOwnPropertyDescriptor,oc=ec(rc,"name"),ic={EXISTS:oc,PROPER:oc&&"something"===function(){}.name,CONFIGURABLE:oc&&(!tc||tc&&nc(rc,"name").configurable)},cc=Rr,sc=function(t,e,r,n){return n&&n.enumerable?t[e]=r:cc(t,e,r),t},ac=c,Ec=D,uc=et,_c=ao,Tc=Kr,lc=sc,Ac=le("iterator"),fc=!1;[].keys&&("next"in(Zi=[].keys())?(qi=Tc(Tc(Zi)))!==Object.prototype&&(zi=qi):fc=!0);var Ic=!uc(zi)||ac((function(){var t={};return zi[Ac].call(t)!==t}));Ec((zi=Ic?{}:_c(zi))[Ac])||lc(zi,Ac,(function(){return this}));var Rc={IteratorPrototype:zi,BUGGY_SAFARI_ITERATORS:fc},Oc=wo,Sc=Do?{}.toString:function(){return"[object "+Oc(this)+"]"},dc=Do,Nc=Ze.f,hc=Rr,pc=$t,Cc=Sc,Lc=le("toStringTag"),mc=function(t,e,r,n){if(t){var o=r?t:t.prototype;pc(o,Lc)||Nc(o,Lc,{configurable:!0,value:e}),n&&!dc&&hc(o,"toString",Cc)}},yc=Rc.IteratorPrototype,Dc=ao,gc=G,vc=mc,Pc=po,bc=function(){return this},Mc=gr,Uc=M,wc=ic,Vc=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Dc(yc,{next:gc(+!n,r)}),vc(t,o,!1,!0),Pc[o]=bc,t},Fc=Kr,Bc=mc,kc=sc,Gc=po,Kc=Rc,Wc=wc.PROPER,Hc=Kc.BUGGY_SAFARI_ITERATORS,xc=le("iterator"),Yc="keys",jc="values",Xc="entries",Jc=function(){return this},Qc=function(t,e,r,n,o,i,c){Vc(r,e,n);var s,a,E,u=function(t){if(t===o&&f)return f;if(!Hc&&t in l)return l[t];switch(t){case Yc:case jc:case Xc:return function(){return new r(this,t)}}return function(){return new r(this)}},_=e+" Iterator",T=!1,l=t.prototype,A=l[xc]||l["@@iterator"]||o&&l[o],f=!Hc&&A||u(o),I="Array"==e&&l.entries||A;if(I&&(s=Fc(I.call(new t)))!==Object.prototype&&s.next&&(Bc(s,_,!0,!0),Gc[_]=Jc),Wc&&o==jc&&A&&A.name!==jc&&(T=!0,f=function(){return Uc(A,this)}),o)if(a={values:u(jc),keys:i?f:u(Yc),entries:u(Xc)},c)for(E in a)(Hc||T||!(E in l))&&kc(l,E,a[E]);else Mc({target:e,proto:!0,forced:Hc||T},a);return c&&l[xc]!==f&&kc(l,xc,f,{name:o}),Gc[e]=f,a},zc=function(t,e){return{value:t,done:e}},qc=Z,Zc=po,$c=$i;Ze.f;var ts=Qc,es=zc,rs="Array Iterator",ns=$c.set,os=$c.getterFor(rs);ts(Array,"Array",(function(t,e){ns(this,{type:rs,target:qc(t),index:0,kind:e})}),(function(){var t=os(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,es(void 0,!0)):es("keys"==r?n:"values"==r?e[n]:[n,e[n]],!1)}),"values"),Zc.Arguments=Zc.Array;var is="undefined"!=typeof process&&"process"==N(process),cs=Ze,ss=function(t,e,r){return cs.f(t,e,r)},as=st,Es=ss,us=v,_s=le("species"),Ts=at,ls=TypeError,As=D,fs=Yt,Is=R(Function.toString);As(fs.inspectSource)||(fs.inspectSource=function(t){return Is(t)});var Rs=fs.inspectSource,Os=R,Ss=c,ds=D,Ns=wo,hs=Rs,ps=function(){},Cs=[],Ls=st("Reflect","construct"),ms=/^\s*(?:class|function)\b/,ys=Os(ms.exec),Ds=!ms.exec(ps),gs=function(t){if(!ds(t))return!1;try{return Ls(ps,Cs,t),!0}catch(t){return!1}},vs=function(t){if(!ds(t))return!1;switch(Ns(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ds||!!ys(ms,hs(t))}catch(t){return!0}};vs.sham=!0;var Ps,bs,Ms,Us,ws=!Ls||Ss((function(){var t;return gs(gs.call)||!gs(Object)||!gs((function(){t=!0}))||t}))?vs:gs,Vs=ws,Fs=Dt,Bs=TypeError,ks=nr,Gs=function(t){if(Vs(t))return t;throw Bs(Fs(t)+" is not a constructor")},Ks=j,Ws=le("species"),Hs=function(t,e){var r,n=ks(t).constructor;return void 0===n||Ks(r=ks(n)[Ws])?e:Gs(r)},xs=R([].slice),Ys=TypeError,js=/(?:ipad|iphone|ipod).*applewebkit/i.test(Et),Xs=i,Js=T,Qs=qe,zs=D,qs=$t,Zs=c,$s=Jn,ta=xs,ea=ye,ra=function(t,e){if(t<e)throw Ys("Not enough arguments");return t},na=js,oa=is,ia=Xs.setImmediate,ca=Xs.clearImmediate,sa=Xs.process,aa=Xs.Dispatch,Ea=Xs.Function,ua=Xs.MessageChannel,_a=Xs.String,Ta=0,la={},Aa="onreadystatechange";Zs((function(){Ps=Xs.location}));var fa=function(t){if(qs(la,t)){var e=la[t];delete la[t],e()}},Ia=function(t){return function(){fa(t)}},Ra=function(t){fa(t.data)},Oa=function(t){Xs.postMessage(_a(t),Ps.protocol+"//"+Ps.host)};ia&&ca||(ia=function(t){ra(arguments.length,1);var e=zs(t)?t:Ea(t),r=ta(arguments,1);return la[++Ta]=function(){Js(e,void 0,r)},bs(Ta),Ta},ca=function(t){delete la[t]},oa?bs=function(t){sa.nextTick(Ia(t))}:aa&&aa.now?bs=function(t){aa.now(Ia(t))}:ua&&!na?(Us=(Ms=new ua).port2,Ms.port1.onmessage=Ra,bs=Qs(Us.postMessage,Us)):Xs.addEventListener&&zs(Xs.postMessage)&&!Xs.importScripts&&Ps&&"file:"!==Ps.protocol&&!Zs(Oa)?(bs=Oa,Xs.addEventListener("message",Ra,!1)):bs=Aa in ea("script")?function(t){$s.appendChild(ea("script"))[Aa]=function(){$s.removeChild(this),fa(t)}}:function(t){setTimeout(Ia(t),0)});var Sa={set:ia,clear:ca},da=function(){this.head=null,this.tail=null};da.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Na,ha,pa,Ca,La,ma=da,ya=/ipad|iphone|ipod/i.test(Et)&&"undefined"!=typeof Pebble,Da=/web0s(?!.*chrome)/i.test(Et),ga=i,va=qe,Pa=g.f,ba=Sa.set,Ma=ma,Ua=js,wa=ya,Va=Da,Fa=is,Ba=ga.MutationObserver||ga.WebKitMutationObserver,ka=ga.document,Ga=ga.process,Ka=ga.Promise,Wa=Pa(ga,"queueMicrotask"),Ha=Wa&&Wa.value;if(!Ha){var xa=new Ma,Ya=function(){var t,e;for(Fa&&(t=Ga.domain)&&t.exit();e=xa.get();)try{e()}catch(t){throw xa.head&&Na(),t}t&&t.enter()};Ua||Fa||Va||!Ba||!ka?!wa&&Ka&&Ka.resolve?((Ca=Ka.resolve(void 0)).constructor=Ka,La=va(Ca.then,Ca),Na=function(){La(Ya)}):Fa?Na=function(){Ga.nextTick(Ya)}:(ba=va(ba,ga),Na=function(){ba(Ya)}):(ha=!0,pa=ka.createTextNode(""),new Ba(Ya).observe(pa,{characterData:!0}),Na=function(){pa.data=ha=!ha}),Ha=function(t){xa.head||Na(),xa.add(t)}}var ja=Ha,Xa=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ja=i.Promise,Qa="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,za=!Qa&&!is&&"object"==typeof window&&"object"==typeof document,qa=i,Za=Ja,$a=D,tE=Xe,eE=Rs,rE=le,nE=za,oE=Qa,iE=It,cE=Za&&Za.prototype,sE=rE("species"),aE=!1,EE=$a(qa.PromiseRejectionEvent),uE=tE("Promise",(function(){var t=eE(Za),e=t!==String(Za);if(!e&&66===iE)return!0;if(!cE.catch||!cE.finally)return!0;if(!iE||iE<51||!/native code/.test(t)){var r=new Za((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[sE]=n,!(aE=r.then((function(){}))instanceof n))return!0}return!e&&(nE||oE)&&!EE})),_E={CONSTRUCTOR:uE,REJECTION_EVENT:EE,SUBCLASSING:aE},TE={},lE=bt,AE=TypeError,fE=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw AE("Bad Promise constructor");e=t,r=n})),this.resolve=lE(e),this.reject=lE(r)};TE.f=function(t){return new fE(t)};var IE,RE,OE=gr,SE=is,dE=i,NE=M,hE=sc,pE=mc,CE=function(t){var e=as(t);us&&e&&!e[_s]&&Es(e,_s,{configurable:!0,get:function(){return this}})},LE=bt,mE=D,yE=et,DE=function(t,e){if(Ts(e,t))return t;throw ls("Incorrect invocation")},gE=Hs,vE=Sa.set,PE=ja,bE=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},ME=Xa,UE=ma,wE=$i,VE=Ja,FE=_E,BE=TE,kE="Promise",GE=FE.CONSTRUCTOR,KE=FE.REJECTION_EVENT,WE=wE.getterFor(kE),HE=wE.set,xE=VE&&VE.prototype,YE=VE,jE=xE,XE=dE.TypeError,JE=dE.document,QE=dE.process,zE=BE.f,qE=zE,ZE=!!(JE&&JE.createEvent&&dE.dispatchEvent),$E="unhandledrejection",tu=function(t){var e;return!(!yE(t)||!mE(e=t.then))&&e},eu=function(t,e){var r,n,o,i=e.value,c=1==e.state,s=c?t.ok:t.fail,a=t.resolve,E=t.reject,u=t.domain;try{s?(c||(2===e.rejection&&cu(e),e.rejection=1),!0===s?r=i:(u&&u.enter(),r=s(i),u&&(u.exit(),o=!0)),r===t.promise?E(XE("Promise-chain cycle")):(n=tu(r))?NE(n,r,a,E):a(r)):E(i)}catch(t){u&&!o&&u.exit(),E(t)}},ru=function(t,e){t.notified||(t.notified=!0,PE((function(){for(var r,n=t.reactions;r=n.get();)eu(r,t);t.notified=!1,e&&!t.rejection&&ou(t)})))},nu=function(t,e,r){var n,o;ZE?((n=JE.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),dE.dispatchEvent(n)):n={promise:e,reason:r},!KE&&(o=dE["on"+t])?o(n):t===$E&&bE("Unhandled promise rejection",r)},ou=function(t){NE(vE,dE,(function(){var e,r=t.facade,n=t.value;if(iu(t)&&(e=ME((function(){SE?QE.emit("unhandledRejection",n,r):nu($E,r,n)})),t.rejection=SE||iu(t)?2:1,e.error))throw e.value}))},iu=function(t){return 1!==t.rejection&&!t.parent},cu=function(t){NE(vE,dE,(function(){var e=t.facade;SE?QE.emit("rejectionHandled",e):nu("rejectionhandled",e,t.value)}))},su=function(t,e,r){return function(n){t(e,n,r)}},au=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,ru(t,!0))},Eu=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw XE("Promise can't be resolved itself");var n=tu(e);n?PE((function(){var r={done:!1};try{NE(n,e,su(Eu,r,t),su(au,r,t))}catch(e){au(r,e,t)}})):(t.value=e,t.state=1,ru(t,!1))}catch(e){au({done:!1},e,t)}}};GE&&(jE=(YE=function(t){DE(this,jE),LE(t),NE(IE,this);var e=WE(this);try{t(su(Eu,e),su(au,e))}catch(t){au(e,t)}}).prototype,(IE=function(t){HE(this,{type:kE,done:!1,notified:!1,parent:!1,reactions:new UE,rejection:!1,state:0,value:void 0})}).prototype=hE(jE,"then",(function(t,e){var r=WE(this),n=zE(gE(this,YE));return r.parent=!0,n.ok=!mE(t)||t,n.fail=mE(e)&&e,n.domain=SE?QE.domain:void 0,0==r.state?r.reactions.add(n):PE((function(){eu(n,r)})),n.promise})),RE=function(){var t=new IE,e=WE(t);this.promise=t,this.resolve=su(Eu,e),this.reject=su(au,e)},BE.f=zE=function(t){return t===YE||undefined===t?new RE(t):qE(t)}),OE({global:!0,constructor:!0,wrap:!0,forced:GE},{Promise:YE}),pE(YE,kE,!1,!0),CE(kE);var uu=le("iterator"),_u=!1;try{var Tu=0,lu={next:function(){return{done:!!Tu++}},return:function(){_u=!0}};lu[uu]=function(){return this},Array.from(lu,(function(){throw 2}))}catch(t){}var Au=Ja,fu=function(t,e){if(!e&&!_u)return!1;var r=!1;try{var n={};n[uu]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Iu=_E.CONSTRUCTOR||!fu((function(t){Au.all(t).then(void 0,(function(){}))})),Ru=M,Ou=bt,Su=TE,du=Xa,Nu=ui;gr({target:"Promise",stat:!0,forced:Iu},{all:function(t){var e=this,r=Su.f(e),n=r.resolve,o=r.reject,i=du((function(){var r=Ou(e.resolve),i=[],c=0,s=1;Nu(t,(function(t){var a=c++,E=!1;s++,Ru(r,e,t).then((function(t){E||(E=!0,i[a]=t,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise}});var hu=gr,pu=_E.CONSTRUCTOR;Ja&&Ja.prototype,hu({target:"Promise",proto:!0,forced:pu,real:!0},{catch:function(t){return this.then(void 0,t)}});var Cu=M,Lu=bt,mu=TE,yu=Xa,Du=ui;gr({target:"Promise",stat:!0,forced:Iu},{race:function(t){var e=this,r=mu.f(e),n=r.reject,o=yu((function(){var o=Lu(e.resolve);Du(t,(function(t){Cu(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var gu=M,vu=TE;gr({target:"Promise",stat:!0,forced:_E.CONSTRUCTOR},{reject:function(t){var e=vu.f(this);return gu(e.reject,void 0,t),e.promise}});var Pu=nr,bu=et,Mu=TE,Uu=function(t,e){if(Pu(t),bu(e)&&e.constructor===t)return e;var r=Mu.f(t);return(0,r.resolve)(e),r.promise},wu=gr,Vu=Ja,Fu=_E.CONSTRUCTOR,Bu=Uu,ku=st("Promise"),Gu=!Fu;wu({target:"Promise",stat:!0,forced:true},{resolve:function(t){return Bu(Gu&&this===ku?Vu:this,t)}});var Ku=M,Wu=bt,Hu=TE,xu=Xa,Yu=ui;gr({target:"Promise",stat:!0,forced:Iu},{allSettled:function(t){var e=this,r=Hu.f(e),n=r.resolve,o=r.reject,i=xu((function(){var r=Wu(e.resolve),o=[],i=0,c=1;Yu(t,(function(t){var s=i++,a=!1;c++,Ku(r,e,t).then((function(t){a||(a=!0,o[s]={status:"fulfilled",value:t},--c||n(o))}),(function(t){a||(a=!0,o[s]={status:"rejected",reason:t},--c||n(o))}))})),--c||n(o)}));return i.error&&o(i.value),r.promise}});var ju=M,Xu=bt,Ju=st,Qu=TE,zu=Xa,qu=ui,Zu="No one promise resolved";gr({target:"Promise",stat:!0,forced:Iu},{any:function(t){var e=this,r=Ju("AggregateError"),n=Qu.f(e),o=n.resolve,i=n.reject,c=zu((function(){var n=Xu(e.resolve),c=[],s=0,a=1,E=!1;qu(t,(function(t){var u=s++,_=!1;a++,ju(n,e,t).then((function(t){_||E||(E=!0,o(t))}),(function(t){_||E||(_=!0,c[u]=t,--a||i(new r(c,Zu)))}))})),--a||i(new r(c,Zu))}));return c.error&&i(c.value),n.promise}});var $u=gr,t_=Ja,e_=c,r_=st,n_=D,o_=Hs,i_=Uu,c_=t_&&t_.prototype;$u({target:"Promise",proto:!0,real:!0,forced:!!t_&&e_((function(){c_.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=o_(this,r_("Promise")),r=n_(t);return this.then(r?function(r){return i_(e,t()).then((function(){return r}))}:t,r?function(r){return i_(e,t()).then((function(){throw r}))}:t)}});var s_=R,a_=en,E_=li,u_=Q,__=s_("".charAt),T_=s_("".charCodeAt),l_=s_("".slice),A_=function(t){return function(e,r){var n,o,i=E_(u_(e)),c=a_(r),s=i.length;return c<0||c>=s?t?"":void 0:(n=T_(i,c))<55296||n>56319||c+1===s||(o=T_(i,c+1))<56320||o>57343?t?__(i,c):n:t?l_(i,c,c+2):o-56320+(n-55296<<10)+65536}},f_={codeAt:A_(!1),charAt:A_(!0)}.charAt,I_=li,R_=$i,O_=Qc,S_=zc,d_="String Iterator",N_=R_.set,h_=R_.getterFor(d_);O_(String,"String",(function(t){N_(this,{type:d_,string:I_(t),index:0})}),(function(){var t,e=h_(this),r=e.string,n=e.index;return n>=r.length?S_(void 0,!0):(t=f_(r,n),e.index+=t.length,S_(t,!1))}));var p_=rt.Promise,C_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},L_=i,m_=wo,y_=Rr,D_=po,g_=le("toStringTag");for(var v_ in C_){var P_=L_[v_],b_=P_&&P_.prototype;b_&&m_(b_)!==g_&&y_(b_,g_,v_),D_[v_]=D_.Array}var M_=n(p_);const U_=()=>{};function w_(){const t={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:U_};return t.promise=new M_(((e,r)=>{t.resolve=r=>{t.isFinished||(t.isResolved=!0,t.isFinished=!0,e(r),t.value=r)},t.reject=e=>{t.isFinished||(t.isRejected=!0,t.isFinished=!0,r(e))}})),t}function V_(t){const e=w_();return e.resolve(t),e}function F_(t){const e=w_(),r=setTimeout(e.resolve,t);return e.cancel=()=>clearTimeout(r),e}const B_=new Map,k_=new Map,G_=new Map;function K_(t,e){k_.set(t,e)}async function W_(t,e,r){B_.get(t)||B_.set(t,[]),k_.get(t)||k_.set(t,e),G_.get(t)||G_.set(t,0);const n=B_.get(t),o=k_.get(t);if(!n||!o)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(G_.get(t)===o){const t=w_();n.push(t),await t.promise}G_.set(t,G_.get(t)+1);for(var i=arguments.length,c=new Array(i>3?i-3:0),s=3;s<i;s++)c[s-3]=arguments[s];const a=await r(...c);return G_.set(t,G_.get(t)-1),G_.get(t)===o-1&&n.length>0&&(n[0].resolve(),n.shift()),0===G_.get(t)&&(B_.set(t,[]),k_.set(t,0),G_.set(t,0)),a}var H_,x_;!function(t){t.WIN_10="Windows 10",t.WIN_81="Windows 8.1",t.WIN_8="Windows 8",t.WIN_7="Windows 7",t.WIN_VISTA="Windows Vista",t.WIN_SERVER_2003="Windows Server 2003",t.WIN_XP="Windows XP",t.WIN_2000="Windows 2000",t.ANDROID="Android",t.HARMONY_OS="HarmonyOS",t.OPEN_BSD="Open BSD",t.SUN_OS="Sun OS",t.LINUX="Linux",t.IOS="iOS",t.MAC_OS="Mac OS",t.CHROMIUM_OS="Chromium OS",t.QNX="QNX",t.UNIX="UNIX",t.BEOS="BeOS",t.OS_2="OS/2",t.SEARCH_BOT="Search Bot"}(H_||(H_={})),function(t){t.CHROME="Chrome",t.SAFARI="Safari",t.EDGE="Edge",t.FIREFOX="Firefox",t.OPERA="OPR",t.QQ="QQBrowser",t.WECHAT="MicroMessenger"}(x_||(x_={}));const Y_=new t;let j_=Y_.getResult(),X_=null;function J_(t){if(!X_){t&&Y_.setUA(t),j_=Y_.getResult();const e=Q_(j_),r=z_(j_),n=q_(j_),o=j_.os.version;if(!(e&&r&&n&&o))return{name:e,version:r,os:n,osVersion:o};X_={name:e,version:r,os:n,osVersion:o}}return X_}function Q_(t){if("Blink"===t.engine.name&&"WeChat"!==t.browser.name)return x_.CHROME;switch(t.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return x_.CHROME;case"Safari":case"Mobile Safari":return x_.SAFARI;case"Edge":return x_.EDGE;case"Firefox":return x_.FIREFOX;case"QQBrowser":return x_.QQ;case"Opera":return x_.OPERA;case"WeChat":return x_.WECHAT;default:return t.browser.name||""}}function z_(t){let e;return e="Blink"===t.engine.name?t.engine.version||"":t.browser.version||"",e.split(".")[0]}function q_(t){return"Windows"===t.os.name?t.os.version?t.os.name+" "+t.os.version:t.os.name:t.os.name||""}function Z_(t){const e=t||navigator.userAgent;let r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===r[1]){const t=e.match(/(OPR(?=\/))\/?(\d+)/i);null!==t&&(r=t)}if("Safari"===r[1]){const t=e.match(/version\/(\d+)/i);null!==t&&(r[2]=t[1])}if(-1!==e.toLowerCase().indexOf("qqbrowser")){const t=e.match(/(qqbrowser(?=\/))\/?(\d+)/i);null!==t&&(r=t)}if(-1!==e.toLowerCase().indexOf("micromessenger")){const t=e.match(/(micromessenger(?=\/))\/?(\d+)/i);null!==t&&(r=t)}if(-1!==e.toLowerCase().indexOf("edge")){const t=e.match(/(edge(?=\/))\/?(\d+)/i);null!==t&&(r=t)}if(-1!==e.toLowerCase().indexOf("trident")){const t=/\brv[ :]+(\d+)/g.exec(e)||[];null!==t&&(r=["","IE",t[1]])}let n=null;const o=[{s:H_.WIN_10,r:/(Windows 10.0|Windows NT 10.0)/},{s:H_.WIN_81,r:/(Windows 8.1|Windows NT 6.3)/},{s:H_.WIN_8,r:/(Windows 8|Windows NT 6.2)/},{s:H_.WIN_7,r:/(Windows 7|Windows NT 6.1)/},{s:H_.WIN_VISTA,r:/Windows NT 6.0/},{s:H_.WIN_SERVER_2003,r:/Windows NT 5.2/},{s:H_.WIN_XP,r:/(Windows NT 5.1|Windows XP)/},{s:H_.WIN_2000,r:/(Windows NT 5.0|Windows 2000)/},{s:H_.ANDROID,r:/Android/},{s:H_.OPEN_BSD,r:/OpenBSD/},{s:H_.SUN_OS,r:/SunOS/},{s:H_.LINUX,r:/(Linux|X11)/},{s:H_.IOS,r:/(iPhone|iPad|iPod)/},{s:H_.MAC_OS,r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:H_.QNX,r:/QNX/},{s:H_.UNIX,r:/UNIX/},{s:H_.BEOS,r:/BeOS/},{s:H_.OS_2,r:/OS\/2/},{s:H_.SEARCH_BOT,r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(const t of o)if(t.r.test(e)){n=t.s;break}return{name:r[1],version:r[2],os:n}}function $_(){return J_().version}function tT(){return J_().os}function eT(){const t=J_();return"".concat(t.os," ").concat(t.osVersion)}function rT(){const t=J_();return!!("WebKit"===j_.engine.name&&t.os===H_.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&t.name!==x_.SAFARI||_T()&&t.name!==x_.SAFARI)}function nT(){const t=J_();if(rT()){if(t.os===H_.MAC_OS)return!0;if(t.os===H_.IOS){const t=j_.os.version&&j_.os.version.split(".");if(t&&14===Number(t[0])&&t[1]&&Number(t[1])>=3)return!0;if(t&&Number(t[0])>14)return!0}}return!1}function oT(){return"WebKit"===j_.engine.name}function iT(){return J_().name===x_.CHROME}function cT(){return J_().name===x_.SAFARI}function sT(){return J_().name===x_.EDGE}function aT(){return J_().name===x_.FIREFOX}function ET(){return J_().name===x_.OPERA}function uT(){return J_().name===x_.QQ}function _T(){return J_().os===H_.IOS}function TT(t){const e=J_();return!(e.name!==x_.CHROME||!e.osVersion)&&Number(e.version)>=t}function lT(t,e,r){const n=J_();return!(n.name!==t||!n.osVersion)&&(r?Number(n.version)>=e&&Number(n.version)<=r:Number(n.version)===e)}function AT(t){const e=J_();return!(e.name!==x_.EDGE||!e.osVersion)&&Number(e.version)>=t}function fT(t){const e=J_();return!(e.name!==x_.FIREFOX||!e.osVersion)&&Number(e.version)>=t}function IT(t){const e=J_();return!(e.name!==x_.SAFARI||!e.osVersion)&&Number(e.version)>=t}function RT(t,e,r){const n=J_();if(n.os!==H_.IOS||!n.osVersion)return!1;const o=n.osVersion.split(".");return r?e&&Number(o[0])===t&&Number(o[1])<e||Number(o[0])<t:e?Number(o[0])===t&&Number(o[1])<=e||Number(o[0])<t:Number(o[0])<=t}function OT(t,e,r){const n=J_();if(n.name!==x_.SAFARI||!n.osVersion)return!1;const o=n.version.split(".");return r?e&&Number(o[0])===t&&Number(o[1])<e||Number(o[0])<t:e?Number(o[0])===t&&Number(o[1])<=e||Number(o[0])<t:Number(o[0])<=t}function ST(t){const e=J_();return!(e.name!==x_.OPERA||!e.osVersion)&&Number(e.version)>=t}function dT(){const t=J_();return!(t.name!==x_.CHROME||!t.osVersion)&&Number(t.version)<=90}function NT(){return J_().os===H_.MAC_OS}function hT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 13===Number(e[0])}function pT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return Number(e[0])>=13}function CT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return Number(e[0])<14||14===Number(e[0])&&Number(e[1])<=6}function LT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 15===Number(e[0])}function mT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 16===Number(e[0])}function yT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 16===Number(e[0])&&Number(e[1])>=0}function DT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 15===Number(e[0])&&0===Number(e[1])}function gT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 15===Number(e[0])&&Number(e[1])>=1}function vT(){const t=J_();if(t.os!==H_.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 15===Number(e[0])&&Number(e[1])>=2}function PT(){return cT()&&navigator.maxTouchPoints>0}function bT(){return J_().name===x_.WECHAT}function MT(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function UT(){const t=tT();return t===H_.LINUX||t===H_.MAC_OS||-1!==t.indexOf("Windows")}function wT(){return-1!==tT().indexOf("Windows")}function VT(){const t=tT();return t===H_.ANDROID||t===H_.IOS||t===H_.HARMONY_OS}function FT(){const t=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return t&&t[0]?t[0].split("/")[1]:null}function BT(){const t=J_();if(t.name===x_.EDGE||t.name===x_.SAFARI)return!1;return!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function kT(){return tT()===H_.HARMONY_OS}function GT(){return tT()===H_.ANDROID}function KT(){const t=J_();return GT()&&(t.name===x_.CHROME||t.name===x_.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}var WT=fn.includes;gr({target:"Array",proto:!0,forced:c((function(){return!Array(1).includes()}))},{includes:function(t){return WT(this,t,arguments.length>1?arguments[1]:void 0)}});var HT=rt,xT=function(t){return HT[t+"Prototype"]},YT=xT("Array").includes,jT=et,XT=N,JT=le("match"),QT=function(t){var e;return jT(t)&&(void 0!==(e=t[JT])?!!e:"RegExp"==XT(t))},zT=TypeError,qT=le("match"),ZT=gr,$T=function(t){if(QT(t))throw zT("The method doesn't accept regular expressions");return t},tl=Q,el=li,rl=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[qT]=!1,"/./"[t](e)}catch(t){}}return!1},nl=R("".indexOf);ZT({target:"String",proto:!0,forced:!rl("includes")},{includes:function(t){return!!~nl(el(tl(this)),el($T(t)),arguments.length>1?arguments[1]:void 0)}});var ol=xT("String").includes,il=at,cl=YT,sl=ol,al=Array.prototype,El=String.prototype,ul=n((function(t){var e=t.includes;return t===al||il(al,t)&&e===al.includes?cl:"string"==typeof t||t===El||il(El,t)&&e===El.includes?sl:e})),_l=Dt,Tl=TypeError,ll=pe,Al=Ze,fl=G,Il=function(t,e,r){var n=ll(e);n in t?Al.f(t,n,fl(0,r)):t[n]=r},Rl=cn,Ol=un,Sl=Il,dl=Array,Nl=Math.max,hl=function(t,e,r){for(var n=Ol(t),o=Rl(e,n),i=Rl(void 0===r?n:r,n),c=dl(Nl(i-o,0)),s=0;o<i;o++,s++)Sl(c,s,t[o]);return c.length=s,c},pl=hl,Cl=Math.floor,Ll=function(t,e){var r=t.length,n=Cl(r/2);return r<8?ml(t,e):yl(t,Ll(pl(t,0,n),e),Ll(pl(t,n),e),e)},ml=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},yl=function(t,e,r,n){for(var o=e.length,i=r.length,c=0,s=0;c<o||s<i;)t[c+s]=c<o&&s<i?n(e[c],r[s])<=0?e[c++]:r[s++]:c<o?e[c++]:r[s++];return t},Dl=Ll,gl=c,vl=function(t,e){var r=[][t];return!!r&&gl((function(){r.call(null,e||function(){return 1},1)}))},Pl=Et.match(/firefox\/(\d+)/i),bl=!!Pl&&+Pl[1],Ml=/MSIE|Trident/.test(Et),Ul=Et.match(/AppleWebKit\/(\d+)\./),wl=!!Ul&&+Ul[1],Vl=gr,Fl=R,Bl=bt,kl=zt,Gl=un,Kl=function(t,e){if(!delete t[e])throw Tl("Cannot delete property "+_l(e)+" of "+_l(t))},Wl=li,Hl=c,xl=Dl,Yl=vl,jl=bl,Xl=Ml,Jl=It,Ql=wl,zl=[],ql=Fl(zl.sort),Zl=Fl(zl.push),$l=Hl((function(){zl.sort(void 0)})),tA=Hl((function(){zl.sort(null)})),eA=Yl("sort"),rA=!Hl((function(){if(Jl)return Jl<70;if(!(jl&&jl>3)){if(Xl)return!0;if(Ql)return Ql<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)zl.push({k:e+n,v:r})}for(zl.sort((function(t,e){return e.v-t.v})),n=0;n<zl.length;n++)e=zl[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));Vl({target:"Array",proto:!0,forced:$l||!tA||!eA||!rA},{sort:function(t){void 0!==t&&Bl(t);var e=kl(this);if(rA)return void 0===t?ql(e):ql(e,t);var r,n,o=[],i=Gl(e);for(n=0;n<i;n++)n in e&&Zl(o,e[n]);for(xl(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Wl(e)>Wl(r)?1:-1}}(t)),r=Gl(o),n=0;n<r;)e[n]=o[n++];for(;n<i;)Kl(e,n++);return e}});var nA,oA,iA,cA=xT("Array").sort,sA=at,aA=cA,EA=Array.prototype,uA=n((function(t){var e=t.sort;return t===EA||sA(EA,t)&&e===EA.sort?aA:e}));!function(t){t.UNEXPECTED_ERROR="UNEXPECTED_ERROR",t.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",t.TIMEOUT="TIMEOUT",t.INVALID_PARAMS="INVALID_PARAMS",t.NOT_READABLE="NOT_READABLE",t.NOT_SUPPORTED="NOT_SUPPORTED",t.INVALID_OPERATION="INVALID_OPERATION",t.OPERATION_ABORTED="OPERATION_ABORTED",t.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",t.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",t.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",t.DATACHANNEL_FAILED="DATACHANNEL_FAILED",t.NETWORK_ERROR="NETWORK_ERROR",t.NETWORK_TIMEOUT="NETWORK_TIMEOUT",t.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",t.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",t.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",t.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",t.ELECTRON_IS_NULL="ELECTRON_IS_NULL",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",t.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",t.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",t.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",t.PERMISSION_DENIED="PERMISSION_DENIED",t.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",t.TRACK_IS_DISABLED="TRACK_IS_DISABLED",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",t.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",t.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",t.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",t.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",t.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",t.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",t.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",t.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",t.UID_CONFLICT="UID_CONFLICT",t.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",t.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",t.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",t.INVALID_TRACK="INVALID_TRACK",t.SENDER_NOT_FOUND="SENDER_NOT_FOUND",t.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",t.SET_ANSWER_FAILED="SET_ANSWER_FAILED",t.ICE_FAILED="ICE_FAILED",t.PC_CLOSED="PC_CLOSED",t.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",t.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",t.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",t.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",t.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",t.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",t.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",t.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",t.INVALID_REMOTE_USER="INVALID_REMOTE_USER",t.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",t.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",t.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",t.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",t.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",t.WS_ABORT="WS_ABORT",t.WS_DISCONNECT="WS_DISCONNECT",t.WS_ERR="WS_ERR",t.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",t.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",t.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",t.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",t.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",t.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",t.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",t.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",t.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",t.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",t.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",t.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",t.INVALID_PLUGIN="INVALID_PLUGIN",t.DISCONNECT_P2P="DISCONNECT_P2P",t.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",t.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",t.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",t.PROHIBITED_OPERATION="PROHIBITED_OPERATION",t.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",t.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED"}(nA||(nA={}));class _A extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;super(e),this.code=void 0,this.message=void 0,this.data=void 0,this.name="AgoraRTCException",this.code=t,this.message="AgoraRTCError ".concat(this.code,": ").concat(e),this.data=r}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",e=arguments.length>1?arguments[1]:void 0;return"error"===t&&(e||console).error(this.toString()),"warning"===t&&(e||console).warn(this.toString()),this}throw(t){throw this.print("error",t),this}}function TA(t,e){return new _A(nA.UNEXPECTED_ERROR,t,e)}function lA(t,e){if("boolean"!=typeof t)throw new _A(nA.INVALID_PARAMS,"Invalid ".concat(e,": The value is of the boolean type."))}function AA(t,e,r){if(ul(r).call(r,t))return;throw new _A(nA.INVALID_PARAMS,"".concat(e," can only be set as ").concat(JSON.stringify(r)))}function fA(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(t<r||t>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(t){return"number"==typeof t&&t%1==0}(t)){throw new _A(nA.INVALID_PARAMS,"invalid ".concat(e,": the value range is [").concat(r,", ").concat(n,"]. integer only"))}}function IA(t,e){if("number"!=typeof t){if(!(t.min||t.max||t.ideal||t.exact)){throw new _A(nA.INVALID_PARAMS,"".concat(e," is not a valid ConstrainLong"))}void 0!==t.min&&fA(t.min,"".concat(e,".min"),0,1/0),void 0!==t.max&&fA(t.max,"".concat(e,".max"),1,1/0),void 0!==t.exact&&fA(t.exact,"".concat(e,".exact"),1,1/0),void 0!==t.ideal&&fA(t.ideal,"".concat(e,".ideal"),1,1/0)}else fA(t,e,1,1/0)}function RA(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==t)throw new _A(nA.INVALID_PARAMS,"".concat(e||"param"," cannot be empty"));if(!NA(t,r,n,o))throw new _A(nA.INVALID_PARAMS,"Invalid ".concat(e||"string param",": Length of the string: [").concat(r,",").concat(n,"].").concat(o?" ASCII characters only.":""))}function OA(t,e){if(!Array.isArray(t))throw new _A(nA.INVALID_PARAMS,"".concat(e," should be an array"))}function SA(t,e){var r,n;const o=uA(r=Object.keys(t)).call(r),i=uA(n=Object.keys(e)).call(n);for(let r=0;r<o.length;r+=1){if(o[r]!==i[r])return!1;if(t[o[r]]!==e[o[r]])return!1}return!0}function dA(t){return null==t}function NA(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&t.length<=r&&t.length>=e&&(!n||function(t){if("string"!=typeof t)return!1;for(let e=0;e<t.length;e+=1){const r=t.charCodeAt(e);if(r<0||r>255)return!1}return!0}(t))}function hA(t,e,r){if("getBigInt64"in DataView.prototype)return t.getBigInt64(e,r);const n=Number(!!r),o=Number(!r);return BigInt(t.getInt32(e,r)*o+t.getInt32(e+4,r)*n)<<BigInt(32)|BigInt(t.getUint32(e,r)*n+t.getUint32(e+4,r)*o)}function pA(t,e,r){if("getBigUint64"in DataView.prototype)return t.getBigUint64(e,r);const n=t.getUint32(e,r),o=t.getUint32(e+4,r),i=Number(!!r),c=Number(!r);return BigInt(n*c+o*i)<<BigInt(32)|BigInt(n*i+o*c)}function CA(t,e,r,n){if("setBigInt64"in DataView.prototype)return t.setBigInt64(e,r,n);const o=Number(r>>BigInt(32)),i=Number(r&BigInt(4294967295));n?(t.setInt32(e+4,o,n),t.setUint32(e,i,n)):(t.setInt32(e,o,n),t.setUint32(e+4,i,n))}function LA(t,e,r,n){if("setBigUint64"in DataView.prototype)return t.setBigUint64(e,r,n);const o=Number(r>>BigInt(32)),i=Number(r&BigInt(4294967295));n?(t.setUint32(e+4,o,n),t.setUint32(e,i,n)):(t.setUint32(e,o,n),t.setUint32(e+4,i,n))}!function(t){t.COVERED="COVERED",t.POSITION="POSITION",t.SIZE="SIZE",t.STYLE="STYLE"}(oA||(oA={})),function(t){t.UNMOUNTED="UNMOUNTED",t.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(iA||(iA={}));const mA=new class{constructor(){this._clientSize=null,this.getClientWidth=()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth,this.getClientHeight=()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight,this.getStyle=t=>window.getComputedStyle(t,null),this.checkCssVisibleProperty=t=>{var e;let r=!0;const n=this.getStyle(t),{display:o,visibility:i,opacity:c,filter:s}=n;if(("none"===o||ul(e=["hidden","collapse"]).call(e,i)||Number(c)<.1)&&(r=!1),!r)return!1;if(s){s.split(" ").filter((t=>{var e;const r=t.split("(")[0];return ul(e=["brightness","blur","opacity"]).call(e,r)})).map((t=>{const[e,r]=t.split(/\(|\)/);return[e,Number(r.match(/^[0-9\.]+/))]})).forEach((t=>{const[e,n]=t;switch(e){case"brightness":(n<.1||n>3)&&(r=!1);break;case"blur":n>3&&(r=!1);break;case"opacity":n<.1&&(r=!1)}}))}return r},this.checkPropertyUpToAllParentNodes=(t,e)=>{let r=!0,n=!0;const o=t=>e(t);let i=t;for(;i&&n;){o(i)||(r=!1,n=!1),i=i.parentElement,i||(n=!1)}return r},this.checkActualCssVisibleIncludeInherit=t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty),this.getSizeAboutClient=t=>{const{width:e,height:r,left:n,right:o,top:i,bottom:c}=t.getBoundingClientRect(),s=this.getClientWidth(),a=this.getClientHeight();return{width:e,height:r,left:n,right:o,top:i,bottom:c,clientWidth:s,clientHeight:a,clientMin:Math.min(s,a)}},this.checkActualSize=()=>{const{width:t,height:e,clientMin:r}=this._clientSize;return this.checkSizeIsVisible(t,e,r)},this.elementFromPoint=(t,e)=>document.elementFromPoint?document.elementFromPoint(t,e):null,this.checkCoverForAPoint=(t,e,r)=>{const n=this.elementFromPoint(t,e);return null!==n&&n!==r},this.getPointPositionList=()=>{const{width:t,height:e,left:r,top:n}=this._clientSize,o=t/6,i=e/6,c=[],s=10**6;for(let t=0;t<5;t++)for(let e=0;e<5;e++){const a=(r*s+(0===t?.1:4===t?(o*t*s-1e5)/s:o*t)*s)/s,E=(n*s+(0===e?.1:4===e?(i*e*s-1e5)/s:i*e)*s)/s;c.push({x:a,y:E})}return[...c]},this.checkElementCover=t=>this.getPointPositionList().map((e=>this.checkCoverForAPoint(e.x,e.y,t))).filter((t=>!!t)).length>6,this.checkSizeIsVisible=(t,e,r)=>(t>50||r/t<=10)&&(e>50||r/e<=10),this.checkSizeOfPartInClient=()=>{const{left:t,right:e,top:r,bottom:n,clientHeight:o,clientWidth:i,clientMin:c}=this._clientSize;let s,a,E,u;if(t<0)s=0;else{if(!(t<i))return!1;s=t}if(e<0)return!1;if(a=e<i?e:i,r<0)E=0;else{if(!(r<o))return!1;E=r}if(n<0)return!1;u=n<o?n:o;const _=a-s,T=u-E;return this.checkSizeIsVisible(_,T,c)},this.returnHiddenResult=t=>(this._clientSize=null,{visible:!1,reason:t}),this.checkOneElementVisible=t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(oA.COVERED);{const t=this.checkActualSize(),e=this.checkSizeOfPartInClient();return t&&!e?this.returnHiddenResult(oA.POSITION):t?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(oA.SIZE)}}return this.returnHiddenResult(oA.STYLE)}return this.returnHiddenResult(iA.UNMOUNTED)}return this.returnHiddenResult(iA.INVALID_HTML_ELEMENT)},this.checkElementIsMountedOnDom=t=>this.checkPropertyUpToAllParentNodes(t,(t=>"HTML"!==t.nodeName.toUpperCase()?null!==t.parentElement:!!document.documentElement))}};function yA(t){return(new TextEncoder).encode(t)}const DA=function(t,e){const r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r};function gA(t,e){let r="";return new Uint8Array(t).forEach((t=>{r+=t.toString(e).padStart(2,"0")})),r}const vA=async t=>{const e=function(t){const e=window.atob(t),r=new Uint8Array(new ArrayBuffer(e.length));for(let t=0;t<e.length;t+=1)r[t]=e.charCodeAt(t);return r}("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),r=await window.crypto.subtle.importKey("spki",e,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),n=yA(t),o=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},r,n);return function(t){let e="";for(let r=0;r<t.length;r+=1)e+=String.fromCharCode(t[r]);return window.btoa(e)}(new Uint8Array(o))},PA=async t=>gA(await crypto.subtle.digest("SHA-256",yA(t)),16);class bA{constructor(){this._events={},this.addListener=this.on}getListeners(t){return this._events[t]?this._events[t].map((t=>t.listener)):[]}on(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!1})}once(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!0})}off(t,e){if(!this._events[t])return;const r=this._events[t],n=this._indexOfListener(r,e);-1!==n&&r.splice(n,1),0===this._events[t].length&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const e=this._events[t].map((t=>t));for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(let r=0;r<e.length;r+=1){const o=e[r];o.once&&this.off(t,o.listener),o.listener.apply(this,n||[])}}safeEmit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];[...this._events[t]||[]].forEach((e=>{e.once&&this.off(t,e.listener);try{e.listener.apply(this,r)}catch(e){console.error("safeEmit event:".concat(t," error ").concat(null==e?void 0:e.toString()))}}))}_indexOfListener(t,e){let r=t.length;for(;r--;)if(t[r].listener===e)return r;return-1}}function MA(){return!!VA()}function UA(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new M_(((r,n)=>{const o=document.createElement("div");o.innerText="share screen",o.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const c=document.createElement("div");c.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",c.setAttribute("style","height: 12%;");const s=document.createElement("div");s.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const a=document.createElement("div");a.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const E=document.createElement("button");E.innerHTML="cancel",E.setAttribute("style","width: 85px;"),E.onclick=()=>{document.body.removeChild(T);const t=new Error("NotAllowedError");t.name="NotAllowedError",n(t)};let u=e;const _=document.createElement("div");if(e){const t=document.createElement("input");t.setAttribute("type","checkbox");const e=document.createElement("span");t.setAttribute("style","margin-right: 6px;"),e.innerText="Share audio",t.checked=u,t.onchange=()=>{u=t.checked},_.appendChild(t),_.appendChild(e)}a.appendChild(_),a.appendChild(E),i.appendChild(c),i.appendChild(s),i.appendChild(a);const T=document.createElement("div");T.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),T.appendChild(o),T.appendChild(i),document.body.appendChild(T),t.map((t=>{if(t.id){const e=document.createElement("div");e.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let n=t.thumbnail;try{const{width:t}=n.getSize();t>1920&&(n=n.resize({width:1920}))}catch(t){throw t&&t.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),t}e.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+n.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+(t.name.replace(/[\u00A0-\u9999<>\&]/g,(function(t){return"&#"+t.charCodeAt(0)+";"}))+"</span>"),e.onclick=()=>{document.body.removeChild(T),r({sourceId:t.id,audio:u})},s.appendChild(e)}}))}))}let wA=null;function VA(){if(wA)return wA;if(window.electron)return wA=window.electron;if(!window.require)return null;try{return wA=window.require("electron"),wA}catch(t){return null}}var FA,BA,kA,GA,KA,WA,HA,xA;function YA(t){return fA(t.timeout,"config.timeout",0,1e5),fA(t.timeoutFactor,"config.timeoutFactor",0,100,!1),fA(t.maxRetryCount,"config.maxRetryConfig",0,1/0),fA(t.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function jA(t){return AA(t.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),AA(t.mode,"config.mode",["rtc","live","p2p"]),void 0!==t.audioCodec&&AA(t.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==t.proxyServer&&RA(t.proxyServer,"config.proxyServer",1,1e4),void 0!==t.turnServer&&JA(t.turnServer),void 0!==t.httpRetryConfig&&YA(t.httpRetryConfig),void 0!==t.websocketRetryConfig&&YA(t.websocketRetryConfig),!0}function XA(t){if(!Array.isArray(t)||t.length<1)return!1;try{t.forEach((t=>{if(!t.urls)throw Error()}))}catch(t){return!1}return!0}function JA(t){return RA(t.turnServerURL,"turnServerURL"),RA(t.username,"username"),RA(t.password,"password"),t.udpport&&fA(t.udpport,"udpport",1,99999,!0),t.forceturn&&lA(t.forceturn,"forceturn"),t.security&&lA(t.security,"security"),t.tcpport&&fA(t.tcpport,"tcpport",1,99999,!0),!0}function QA(t){return AA(t,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"]),!0}function zA(t){return AA(t,"role",["audience","host"]),!0}function qA(t){return AA(t,"transport",["default","auto","relay","sd-rtn"]),!0}function ZA(t){return void 0!==t.level&&AA(t.level,"level",[1,2,3]),void 0!==t.delay&&fA(t.delay,"delay",0,3e3,!0),!0}function $A(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return 0===t.getListeners(e).length?M_.reject(new _A(nA.UNEXPECTED_ERROR,"can not emit promise")):new M_(((r,o)=>{t.emit(e,...n,r,o)}))}function tf(t,e){if(0===t.getListeners(e).length)return M_.resolve();for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return $A(t,e,...n)}function ef(t,e){if(0===t.getListeners(e).length)return null;for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return rf(t,e,...n)}function rf(t,e){let r=null,n=null;for(var o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];if(t.emit(e,...i,(t=>{r=t}),(t=>{n=t})),null!==n)throw n;if(null===r)throw new _A(nA.UNEXPECTED_ERROR,"handler is not sync");return r}!function(t){t.CREATE_CLIENT="createClient",t.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",t.SET_AREA="setArea",t.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",t.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",t.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",t.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",t.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",t.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",t.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",t.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",t.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",t.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",t.START_PROXY_SERVER="Client.startProxyServer",t.STOP_PROXY_SERVER="Client.stopProxyServer",t.SET_PROXY_SERVER="Client.setProxyServer",t.SET_TURN_SERVER="Client.setTurnServer",t.SET_CLIENT_ROLE="Client.setClientRole",t.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",t.ENABLE_DUAL_STREAM="Client.enableDualStream",t.DISABLE_DUAL_STREAM="Client.disableDualStream",t.JOIN="Client.join",t.LEAVE="Client.leave",t.PUBLISH="Client.publish",t.UNPUBLISH="Client.unpublish",t.SUBSCRIBE="Client.subscribe",t.MASS_SUBSCRIBE="Client.massSubscribe",t.MASS_UNSUBSCRIBE="Client.massUnsubscribe",t.UNSUBSCRIBE="Client.unsubscribe",t.RENEW_TOKEN="Client.renewToken",t.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",t.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",t.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",t.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",t.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",t.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",t.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",t.DATACHANNEL_FAILBACK="Client._datachannelFailback",t.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",t.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",t.START_LIVE_STREAMING="Client.startLiveStreaming",t.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",t.STOP_LIVE_STREAMING="Client.stopLiveStreaming",t.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",t.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",t.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",t.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",t.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",t.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",t.SET_CONFIG_DISTRIBUTE="_configDistribute",t.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",t.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",t.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",t.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",t.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",t.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",t.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",t.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",t.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",t.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",t.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",t.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",t.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",t.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",t.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",t.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",t.STREAM_TYPE_CHANGE="streamTypeChange",t.CONNECTION_STATE_CHANGE="connectionStateChange",t.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",t.IMAGE_MODERATION_UPLOAD="imageModerationUpload"}(FA||(FA={})),function(t){t.TRACER="tracer"}(BA||(BA={})),function(t){t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(kA||(kA={})),function(t){t.LEAVE="LEAVE",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.UID_BANNED="UID_BANNED",t.IP_BANNED="IP_BANNED",t.CHANNEL_BANNED="CHANNEL_BANNED",t.FALLBACK="FALLBACK",t.LICENSE_MISSING="LICENSE_MISSING",t.LICENSE_EXPIRED="LICENSE_EXPIRED",t.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",t.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",t.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",t.LICENSE_ILLEGAL="LICENSE_ILLEGAL",t.TOKEN_EXPIRE="TOKEN_EXPIRE"}(GA||(GA={})),function(t){t.CONNECTION_STATE_CHANGE="connection-state-change",t.MEDIA_RECONNECT_START="media-reconnect-start",t.MEDIA_RECONNECT_END="media-reconnect-end",t.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",t.USER_JOINED="user-joined",t.USER_LEAVED="user-left",t.USER_PUBLISHED="user-published",t.USER_UNPUBLISHED="user-unpublished",t.USER_INFO_UPDATED="user-info-updated",t.CLIENT_BANNED="client-banned",t.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",t.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",t.VOLUME_INDICATOR="volume-indicator",t.CRYPT_ERROR="crypt-error",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGED="stream-type-changed",t.STREAM_FALLBACK="stream-fallback",t.RECEIVE_METADATA="receive-metadata",t.STREAM_MESSAGE="stream-message",t.LIVE_STREAMING_ERROR="live-streaming-error",t.LIVE_STREAMING_WARNING="live-streaming-warning",t.INJECT_STREAM_STATUS="stream-inject-status",t.EXCEPTION="exception",t.ERROR="error",t.P2P_LOST="p2p_lost",t.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",t.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",t.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",t.PUBLISHED_USER_LIST="published-user-list",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",t.CONTENT_INSPECT_ERROR="content-inspect-error",t.CONTENT_INSPECT_RESULT="content-inspect-result",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change"}(KA||(KA={})),function(t){t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.MULTI_IP="MULTI_IP",t.TIMEOUT="TIMEOUT",t.OFFLINE="OFFLINE",t.LEAVE="LEAVE",t.P2P_FAILED="P2P_FAILED",t.FALLBACK="FALLBACK"}(WA||(WA={})),function(t){t.ONLINE="ONLINE",t.OFFLINE="OFFLINE"}(HA||(HA={})),function(t){t.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",t.ONLINE="ONLINE",t.OFFLINE="OFFLINE"}(xA||(xA={}));const nf=new class extends bA{set networkState(t){this.emit(xA.NETWORK_STATE_CHANGE,t,this._networkState),t===HA.ONLINE?this.emit(xA.ONLINE):t===HA.OFFLINE&&(this.onlineWaiter=new M_((t=>{this.once(xA.ONLINE,(()=>{this.onlineWaiter=void 0,t(HA.ONLINE)}))})),this.emit(xA.OFFLINE)),this._networkState=t}get networkState(){return this._networkState}get isOnline(){return this._networkState===HA.ONLINE}constructor(){super(),this._moduleName="network-indicator",this._networkState=HA.ONLINE,this.onlineWaiter=void 0,window.addEventListener("online",(()=>{this.networkState=HA.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=HA.OFFLINE}))}};var of={exports:{}},cf=gr,sf=v,af=Ze.f;cf({target:"Object",stat:!0,forced:Object.defineProperty!==af,sham:!sf},{defineProperty:af});var Ef=rt.Object,uf=of.exports=function(t,e,r){return Ef.defineProperty(t,e,r)};Ef.defineProperty.sham&&(uf.sham=!0);var _f=n(of.exports),Tf=N,lf=Array.isArray||function(t){return"Array"==Tf(t)},Af=TypeError,ff=lf,If=ws,Rf=et,Of=le("species"),Sf=Array,df=function(t){var e;return ff(t)&&(e=t.constructor,(If(e)&&(e===Sf||ff(e.prototype))||Rf(e)&&null===(e=e[Of]))&&(e=void 0)),void 0===e?Sf:e},Nf=function(t,e){return new(df(t))(0===e?0:e)},hf=c,pf=It,Cf=le("species"),Lf=gr,mf=c,yf=lf,Df=et,gf=zt,vf=un,Pf=function(t){if(t>9007199254740991)throw Af("Maximum allowed index exceeded");return t},bf=Il,Mf=Nf,Uf=function(t){return pf>=51||!hf((function(){var e=[];return(e.constructor={})[Cf]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},wf=It,Vf=le("isConcatSpreadable"),Ff=wf>=51||!mf((function(){var t=[];return t[Vf]=!1,t.concat()[0]!==t})),Bf=function(t){if(!Df(t))return!1;var e=t[Vf];return void 0!==e?!!e:yf(t)};Lf({target:"Array",proto:!0,arity:1,forced:!Ff||!Uf("concat")},{concat:function(t){var e,r,n,o,i,c=gf(this),s=Mf(c,0),a=0;for(e=-1,n=arguments.length;e<n;e++)if(Bf(i=-1===e?c:arguments[e]))for(o=vf(i),Pf(a+o),r=0;r<o;r++,a++)r in i&&bf(s,a,i[r]);else Pf(a+1),bf(s,a++,i);return s.length=a,s}});var kf={},Gf=N,Kf=Z,Wf=qr.f,Hf=hl,xf="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];kf.f=function(t){return xf&&"Window"==Gf(t)?function(t){try{return Wf(t)}catch(t){return Hf(xf)}}(t):Wf(Kf(t))};var Yf={},jf=le;Yf.f=jf;var Xf=rt,Jf=$t,Qf=Yf,zf=Ze.f,qf=function(t){var e=Xf.Symbol||(Xf.Symbol={});Jf(e,t)||zf(e,t,{value:Qf.f(t)})},Zf=M,$f=st,tI=le,eI=sc,rI=function(){var t=$f("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=tI("toPrimitive");e&&!e[n]&&eI(e,n,(function(t){return Zf(r,this)}),{arity:1})},nI=qe,oI=Y,iI=zt,cI=un,sI=Nf,aI=R([].push),EI=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,c=7==t,s=5==t||i;return function(a,E,u,_){for(var T,l,A=iI(a),f=oI(A),I=nI(E,u),R=cI(f),O=0,S=_||sI,d=e?S(a,R):r||c?S(a,0):void 0;R>O;O++)if((s||O in f)&&(l=I(T=f[O],O,A),t))if(e)d[O]=l;else if(l)switch(t){case 3:return!0;case 5:return T;case 6:return O;case 2:aI(d,T)}else switch(t){case 4:return!1;case 7:aI(d,T)}return i?-1:n||o?o:d}},uI={forEach:EI(0),map:EI(1),filter:EI(2),some:EI(3),every:EI(4),find:EI(5),findIndex:EI(6),filterReject:EI(7)},_I=gr,TI=i,lI=M,AI=R,fI=v,II=dt,RI=c,OI=$t,SI=at,dI=nr,NI=Z,hI=pe,pI=li,CI=G,LI=ao,mI=Gn,yI=qr,DI=kf,gI=mn,vI=g,PI=Ze,bI=Fn,MI=U,UI=sc,wI=ss,VI=Xt,FI=In,BI=oe,kI=le,GI=Yf,KI=qf,WI=rI,HI=mc,xI=$i,YI=uI.forEach,jI=br("hidden"),XI="Symbol",JI="prototype",QI=xI.set,zI=xI.getterFor(XI),qI=Object[JI],ZI=TI.Symbol,$I=ZI&&ZI[JI],tR=TI.TypeError,eR=TI.QObject,rR=vI.f,nR=PI.f,oR=DI.f,iR=MI.f,cR=AI([].push),sR=VI("symbols"),aR=VI("op-symbols"),ER=VI("wks"),uR=!eR||!eR[JI]||!eR[JI].findChild,_R=fI&&RI((function(){return 7!=LI(nR({},"a",{get:function(){return nR(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=rR(qI,e);n&&delete qI[e],nR(t,e,r),n&&t!==qI&&nR(qI,e,n)}:nR,TR=function(t,e){var r=sR[t]=LI($I);return QI(r,{type:XI,tag:t,description:e}),fI||(r.description=e),r},lR=function(t,e,r){t===qI&&lR(aR,e,r),dI(t);var n=hI(e);return dI(r),OI(sR,n)?(r.enumerable?(OI(t,jI)&&t[jI][n]&&(t[jI][n]=!1),r=LI(r,{enumerable:CI(0,!1)})):(OI(t,jI)||nR(t,jI,CI(1,{})),t[jI][n]=!0),_R(t,n,r)):nR(t,n,r)},AR=function(t,e){dI(t);var r=NI(e),n=mI(r).concat(OR(r));return YI(n,(function(e){fI&&!lI(fR,r,e)||lR(t,e,r[e])})),t},fR=function(t){var e=hI(t),r=lI(iR,this,e);return!(this===qI&&OI(sR,e)&&!OI(aR,e))&&(!(r||!OI(this,e)||!OI(sR,e)||OI(this,jI)&&this[jI][e])||r)},IR=function(t,e){var r=NI(t),n=hI(e);if(r!==qI||!OI(sR,n)||OI(aR,n)){var o=rR(r,n);return!o||!OI(sR,n)||OI(r,jI)&&r[jI][n]||(o.enumerable=!0),o}},RR=function(t){var e=oR(NI(t)),r=[];return YI(e,(function(t){OI(sR,t)||OI(FI,t)||cR(r,t)})),r},OR=function(t){var e=t===qI,r=oR(e?aR:NI(t)),n=[];return YI(r,(function(t){!OI(sR,t)||e&&!OI(qI,t)||cR(n,sR[t])})),n};II||(UI($I=(ZI=function(){if(SI($I,this))throw tR("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?pI(arguments[0]):void 0,e=BI(t),r=function(t){this===qI&&lI(r,aR,t),OI(this,jI)&&OI(this[jI],e)&&(this[jI][e]=!1),_R(this,e,CI(1,t))};return fI&&uR&&_R(qI,e,{configurable:!0,set:r}),TR(e,t)})[JI],"toString",(function(){return zI(this).tag})),UI(ZI,"withoutSetter",(function(t){return TR(BI(t),t)})),MI.f=fR,PI.f=lR,bI.f=AR,vI.f=IR,yI.f=DI.f=RR,gI.f=OR,GI.f=function(t){return TR(kI(t),t)},fI&&wI($I,"description",{configurable:!0,get:function(){return zI(this).description}})),_I({global:!0,constructor:!0,wrap:!0,forced:!II,sham:!II},{Symbol:ZI}),YI(mI(ER),(function(t){KI(t)})),_I({target:XI,stat:!0,forced:!II},{useSetter:function(){uR=!0},useSimple:function(){uR=!1}}),_I({target:"Object",stat:!0,forced:!II,sham:!fI},{create:function(t,e){return void 0===e?LI(t):AR(LI(t),e)},defineProperty:lR,defineProperties:AR,getOwnPropertyDescriptor:IR}),_I({target:"Object",stat:!0,forced:!II},{getOwnPropertyNames:RR}),WI(),HI(ZI,XI),FI[jI]=!0;var SR=dt&&!!Symbol.for&&!!Symbol.keyFor,dR=gr,NR=st,hR=$t,pR=li,CR=Xt,LR=SR,mR=CR("string-to-symbol-registry"),yR=CR("symbol-to-string-registry");dR({target:"Symbol",stat:!0,forced:!LR},{for:function(t){var e=pR(t);if(hR(mR,e))return mR[e];var r=NR("Symbol")(e);return mR[e]=r,yR[r]=e,r}});var DR=gr,gR=$t,vR=mt,PR=Dt,bR=SR,MR=Xt("symbol-to-string-registry");DR({target:"Symbol",stat:!0,forced:!bR},{keyFor:function(t){if(!vR(t))throw TypeError(PR(t)+" is not a symbol");if(gR(MR,t))return MR[t]}});var UR=lf,wR=D,VR=N,FR=li,BR=R([].push),kR=gr,GR=st,KR=T,WR=M,HR=R,xR=c,YR=D,jR=mt,XR=xs,JR=function(t){if(wR(t))return t;if(UR(t)){for(var e=t.length,r=[],n=0;n<e;n++){var o=t[n];"string"==typeof o?BR(r,o):"number"!=typeof o&&"Number"!=VR(o)&&"String"!=VR(o)||BR(r,FR(o))}var i=r.length,c=!0;return function(t,e){if(c)return c=!1,e;if(UR(this))return e;for(var n=0;n<i;n++)if(r[n]===t)return e}}},QR=dt,zR=String,qR=GR("JSON","stringify"),ZR=HR(/./.exec),$R=HR("".charAt),tO=HR("".charCodeAt),eO=HR("".replace),rO=HR(1..toString),nO=/[\uD800-\uDFFF]/g,oO=/^[\uD800-\uDBFF]$/,iO=/^[\uDC00-\uDFFF]$/,cO=!QR||xR((function(){var t=GR("Symbol")();return"[null]"!=qR([t])||"{}"!=qR({a:t})||"{}"!=qR(Object(t))})),sO=xR((function(){return'"\\udf06\\ud834"'!==qR("\udf06\ud834")||'"\\udead"'!==qR("\udead")})),aO=function(t,e){var r=XR(arguments),n=JR(e);if(YR(n)||void 0!==t&&!jR(t))return r[1]=function(t,e){if(YR(n)&&(e=WR(n,this,zR(t),e)),!jR(e))return e},KR(qR,null,r)},EO=function(t,e,r){var n=$R(r,e-1),o=$R(r,e+1);return ZR(oO,t)&&!ZR(iO,o)||ZR(iO,t)&&!ZR(oO,n)?"\\u"+rO(tO(t,0),16):t};qR&&kR({target:"JSON",stat:!0,arity:3,forced:cO||sO},{stringify:function(t,e,r){var n=XR(arguments),o=KR(cO?aO:qR,null,n);return sO&&"string"==typeof o?eO(o,nO,EO):o}});var uO=mn,_O=zt;gr({target:"Object",stat:!0,forced:!dt||c((function(){uO.f(1)}))},{getOwnPropertySymbols:function(t){var e=uO.f;return e?e(_O(t)):[]}}),qf("asyncIterator"),qf("hasInstance"),qf("isConcatSpreadable"),qf("iterator"),qf("match"),qf("matchAll"),qf("replace"),qf("search"),qf("species"),qf("split");var TO=rI;qf("toPrimitive"),TO();var lO=st,AO=mc;qf("toStringTag"),AO(lO("Symbol"),"Symbol"),qf("unscopables"),mc(i.JSON,"JSON",!0);var fO=rt.Symbol,IO=le,RO=Ze.f,OO=IO("metadata"),SO=Function.prototype;void 0===SO[OO]&&RO(SO,OO,{value:null}),qf("dispose"),qf("metadata");var dO=fO;qf("asyncDispose");var NO=R,hO=st("Symbol"),pO=hO.keyFor,CO=NO(hO.prototype.valueOf),LO=hO.isRegisteredSymbol||function(t){try{return void 0!==pO(CO(t))}catch(t){return!1}};gr({target:"Symbol",stat:!0},{isRegisteredSymbol:LO});for(var mO=Xt,yO=st,DO=R,gO=mt,vO=le,PO=yO("Symbol"),bO=PO.isWellKnownSymbol,MO=yO("Object","getOwnPropertyNames"),UO=DO(PO.prototype.valueOf),wO=mO("wks"),VO=0,FO=MO(PO),BO=FO.length;VO<BO;VO++)try{var kO=FO[VO];gO(PO[kO])&&vO(kO)}catch(t){}var GO=function(t){if(bO&&bO(t))return!0;try{for(var e=UO(t),r=0,n=MO(wO),o=n.length;r<o;r++)if(wO[n[r]]==e)return!0}catch(t){}return!1};gr({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:GO}),qf("matcher"),qf("observable"),gr({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:LO}),gr({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:GO}),qf("metadataKey"),qf("patternMatch"),qf("replaceAll");var KO=n(dO),WO=n(Yf.f("iterator"));function HO(t){return HO="function"==typeof KO&&"symbol"==typeof WO?function(t){return typeof t}:function(t){return t&&"function"==typeof KO&&t.constructor===KO&&t!==KO.prototype?"symbol":typeof t},HO(t)}var xO=n(Yf.f("toPrimitive"));function YO(t){var e=function(t,e){if("object"!==HO(t)||null===t)return t;var r=t[xO];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==HO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===HO(e)?e:String(e)}function jO(t,e,r){return(e=YO(e))in t?_f(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function JO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?XO(Object(r),!0).forEach((function(e){jO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function QO(t,e){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}function zO(t){const e=[];return t.forEach((t=>{-1===e.indexOf(t)&&e.push(t)})),e}function qO(t){void 0!==M_?M_.resolve().then(t):setTimeout(t,0)}function ZO(t){return JSON.parse(JSON.stringify(t))}function $O(t){try{return ZO(t)}catch(e){return t}}function tS(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r+=1){const n=t[r];if(t.filter((t=>t===n)).length!==e.filter((t=>t===n)).length)return!1}return!0}function eS(t,e){const r=Object.keys(t),n=[];for(const o of r)t[o]!==e[o]&&n.push(o);return n}const rS={};function nS(t,e){rS[e]||(rS[e]=!0,t())}function oS(){return"boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname}function iS(t){const e=window.atob(t),r=new Uint8Array(new ArrayBuffer(e.length));for(let t=0;t<e.length;t+=1)r[t]=e.charCodeAt(t);return r}function cS(t){let e="";for(let r=0;r<t.length;r+=1)e+=String.fromCharCode(t[r]);return window.btoa(e)}function sS(t){return window.TextEncoder?(new TextEncoder).encode(t).length:t.length}function aS(t){let e=0;return/DingTalk/i.test(navigator.userAgent)&&t.realFormData&&(t=t.realFormData),t.forEach((t=>{e+="string"==typeof t?sS(t):t.size})),e+138}function ES(t,e,r){const n=t[e];if(!n||"string"!=typeof n)return[t];t[e]="";const o=sS(JSON.stringify(t));let i=0;const c=[];let s=0;for(let a=0;a<n.length;a++)s+=n.charCodeAt(a)<=127?1:3,s<=r-o||(c[c.length]=JO(JO({},t),{},{[e]:n.substring(i,a)}),i=a,s=n.charCodeAt(a)<=127?1:3);return i!==n.length-1&&(c[c.length]=JO(JO({},t),{},{[e]:n.substring(i)})),c}function uS(t){const e=new _A(nA.TIMEOUT,"timeout");return new M_(((r,n)=>{window.setTimeout((()=>n(e)),t)}))}function _S(t,e){return e===1/0?t:M_.race([t,uS(e)])}function TS(t){return new M_((e=>{window.setTimeout(e,t)}))}function lS(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(e).concat(r):"".concat(e).concat(r)+lS(t-r.length,"")}function AS(){return"process-".concat(lS(8,""),"-").concat(lS(4,""),"-").concat(lS(4,""),"-").concat(lS(4,""),"-").concat(lS(12,""))}function fS(){return lS(32,"").toUpperCase()}function IS(t){t.getTracks().forEach((t=>{t.stop()}))}const RS=()=>{};const OS=new class{constructor(){this.fnMap=new Map}throttleByKey(t,e,r,n){for(var o=arguments.length,i=new Array(o>4?o-4:0),c=4;c<o;c++)i[c-4]=arguments[c];if(this.fnMap.has(e)){const o=this.fnMap.get(e);if(o.threshold!==r){o.fn(...o.args),clearTimeout(o.timer);const c=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:c,args:i,skipFn:n})}else o.skipFn&&o.skipFn(...o.args),this.fnMap.set(e,JO(JO({},o),{},{fn:t,args:i,skipFn:n}))}else{const o=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:o,args:i,skipFn:n})}}},SS=OS.throttleByKey.bind(OS);function dS(t){return"object"==typeof t&&null!==t&&!(t instanceof RegExp)}function NS(t,e){if(!dS(t)||!dS(e))return e;if(Array.isArray(t)&&!Array.isArray(e)||!Array.isArray(t)&&Array.isArray(e))return e;if(Array.isArray(e)&&Array.isArray(t)){const r=[...t];for(let n=0;n<e.length;n++)r[n]=NS(t[n],e[n]);return r}{const r=JO({},t);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Object.prototype.hasOwnProperty.call(t,n)?r[n]=NS(t[n],e[n]):r[n]=e[n]);return r}}function hS(t){return t!==document.body&&document.body.contains(t)}function pS(t){const e="0123456789abcdef";function r(t){let r,n="";for(r=0;r<=3;r++)n+=e.charAt(t>>8*r+4&15)+e.charAt(t>>8*r&15);return n}function n(t,e){const r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function o(t,e,r,o,i,c){return n(function(t,e){return t<<e|t>>>32-e}(n(n(e,t),n(o,c)),i),r)}function i(t,e,r,n,i,c,s){return o(e&r|~e&n,t,e,i,c,s)}function c(t,e,r,n,i,c,s){return o(e&n|r&~n,t,e,i,c,s)}function s(t,e,r,n,i,c,s){return o(e^r^n,t,e,i,c,s)}function a(t,e,r,n,i,c,s){return o(r^(e|~n),t,e,i,c,s)}const E=function(t){let e;const r=1+(t.length+8>>6),n=new Array(16*r);for(e=0;e<16*r;e++)n[e]=0;for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<e%4*8;return n[e>>2]|=128<<e%4*8,n[16*r-2]=8*t.length,n}(t);let u,_,T,l,A,f=1732584193,I=-271733879,R=-1732584194,O=271733878;for(u=0;u<E.length;u+=16)_=f,T=I,l=R,A=O,f=i(f,I,R,O,E[u+0],7,-680876936),O=i(O,f,I,R,E[u+1],12,-389564586),R=i(R,O,f,I,E[u+2],17,606105819),I=i(I,R,O,f,E[u+3],22,-1044525330),f=i(f,I,R,O,E[u+4],7,-176418897),O=i(O,f,I,R,E[u+5],12,1200080426),R=i(R,O,f,I,E[u+6],17,-1473231341),I=i(I,R,O,f,E[u+7],22,-45705983),f=i(f,I,R,O,E[u+8],7,1770035416),O=i(O,f,I,R,E[u+9],12,-1958414417),R=i(R,O,f,I,E[u+10],17,-42063),I=i(I,R,O,f,E[u+11],22,-1990404162),f=i(f,I,R,O,E[u+12],7,1804603682),O=i(O,f,I,R,E[u+13],12,-40341101),R=i(R,O,f,I,E[u+14],17,-1502002290),I=i(I,R,O,f,E[u+15],22,1236535329),f=c(f,I,R,O,E[u+1],5,-165796510),O=c(O,f,I,R,E[u+6],9,-1069501632),R=c(R,O,f,I,E[u+11],14,643717713),I=c(I,R,O,f,E[u+0],20,-373897302),f=c(f,I,R,O,E[u+5],5,-701558691),O=c(O,f,I,R,E[u+10],9,38016083),R=c(R,O,f,I,E[u+15],14,-660478335),I=c(I,R,O,f,E[u+4],20,-405537848),f=c(f,I,R,O,E[u+9],5,568446438),O=c(O,f,I,R,E[u+14],9,-1019803690),R=c(R,O,f,I,E[u+3],14,-187363961),I=c(I,R,O,f,E[u+8],20,1163531501),f=c(f,I,R,O,E[u+13],5,-1444681467),O=c(O,f,I,R,E[u+2],9,-51403784),R=c(R,O,f,I,E[u+7],14,1735328473),I=c(I,R,O,f,E[u+12],20,-1926607734),f=s(f,I,R,O,E[u+5],4,-378558),O=s(O,f,I,R,E[u+8],11,-2022574463),R=s(R,O,f,I,E[u+11],16,1839030562),I=s(I,R,O,f,E[u+14],23,-35309556),f=s(f,I,R,O,E[u+1],4,-1530992060),O=s(O,f,I,R,E[u+4],11,1272893353),R=s(R,O,f,I,E[u+7],16,-155497632),I=s(I,R,O,f,E[u+10],23,-1094730640),f=s(f,I,R,O,E[u+13],4,681279174),O=s(O,f,I,R,E[u+0],11,-358537222),R=s(R,O,f,I,E[u+3],16,-722521979),I=s(I,R,O,f,E[u+6],23,76029189),f=s(f,I,R,O,E[u+9],4,-640364487),O=s(O,f,I,R,E[u+12],11,-421815835),R=s(R,O,f,I,E[u+15],16,530742520),I=s(I,R,O,f,E[u+2],23,-995338651),f=a(f,I,R,O,E[u+0],6,-198630844),O=a(O,f,I,R,E[u+7],10,1126891415),R=a(R,O,f,I,E[u+14],15,-1416354905),I=a(I,R,O,f,E[u+5],21,-57434055),f=a(f,I,R,O,E[u+12],6,1700485571),O=a(O,f,I,R,E[u+3],10,-1894986606),R=a(R,O,f,I,E[u+10],15,-1051523),I=a(I,R,O,f,E[u+1],21,-2054922799),f=a(f,I,R,O,E[u+8],6,1873313359),O=a(O,f,I,R,E[u+15],10,-30611744),R=a(R,O,f,I,E[u+6],15,-1560198380),I=a(I,R,O,f,E[u+13],21,1309151649),f=a(f,I,R,O,E[u+4],6,-145523070),O=a(O,f,I,R,E[u+11],10,-1120210379),R=a(R,O,f,I,E[u+2],15,718787259),I=a(I,R,O,f,E[u+9],21,-343485551),f=n(f,_),I=n(I,T),R=n(R,l),O=n(O,A);return r(f)+r(I)+r(R)+r(O)}function CS(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(parseInt(t.slice(r,r+2),16));return Uint8Array.from(e)}let LS=1,mS=console;class yS{static setLogger(t){mS=t}constructor(t){this.lockingPromise=M_.resolve(),this.locks=0,this.name="",this.lockId=void 0,this.lockId=LS++,t&&(this.name=t),mS.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(t){let e;this.locks+=1,mS.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof t?t:""));const r=new M_((r=>{e=()=>{this.locks-=1,mS.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat("string"==typeof t?t:"")),r()}})),n=this.lockingPromise.then((()=>e));return this.lockingPromise=this.lockingPromise.then((()=>r)),n}}function DS(t,e){return function(r,n,o){const i=o.value;if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return o.value=async function(){const r=this[e];if(!r)throw new Error("mutex property key ".concat(e," doesn't exist on ").concat(t));const o=await r.lock("From ".concat(t,".").concat(n));try{for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return await i.apply(this,s)}finally{o()}},o}}const gS={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function vS(t,e){const r=Math.floor(e.timeout*Math.pow(e.timeoutFactor,t));return Math.min(e.maxRetryTimeout,r)}function PS(t,e,r,n){const o=Object.assign({},gS,n);let i=o.timeout;const c=async()=>{await function(t){return new M_((e=>{window.setTimeout(e,t)}))}(i),i*=o.timeoutFactor,i=Math.min(o.maxRetryTimeout,i)};let s=!1;const a=new M_((async(n,i)=>{e=e||(()=>!1),r=r||(()=>!0);for(let a=0;a<o.maxRetryCount;a+=1){if(s)return i(new _A(nA.OPERATION_ABORTED));try{const r=await t();if(!e(r,a))return n(r);if(a+1===o.maxRetryCount)return n(r);await c()}catch(t){if(!r(t,a))return i(t);if(a+1===o.maxRetryCount)return i(t);await c()}}}));return a.cancel=()=>s=!0,a}var bS=bt,MS=zt,US=Y,wS=un,VS=TypeError,FS=function(t){return function(e,r,n,o){bS(r);var i=MS(e),c=US(i),s=wS(i),a=t?s-1:0,E=t?-1:1;if(n<2)for(;;){if(a in c){o=c[a],a+=E;break}if(a+=E,t?a<0:s<=a)throw VS("Reduce of empty array with no initial value")}for(;t?a>=0:s>a;a+=E)a in c&&(o=r(o,c[a],a,i));return o}},BS={left:FS(!1),right:FS(!0)}.left;gr({target:"Array",proto:!0,forced:!is&&It>79&&It<83||!vl("reduce")},{reduce:function(t){var e=arguments.length;return BS(this,t,e,e>1?arguments[1]:void 0)}});var kS=xT("Array").reduce,GS=at,KS=kS,WS=Array.prototype,HS=n((function(t){var e=t.reduce;return t===WS||GS(WS,t)&&e===WS.reduce?KS:e}));class xS{constructor(t){this.input=[],this.size=void 0,this.size=t}add(t){this.input.push(t),this.input.length>this.size&&this.input.splice(0,1)}mean(){var t;return 0===this.input.length?0:HS(t=this.input).call(t,((t,e)=>t+e))/this.input.length}}function YS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?YS(Object(r),!0).forEach((function(e){jO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}let XS,JS=0,QS=0;function zS(t,r,n,o){return new M_(((i,c)=>{r.responseType=r.responseType||"json",r.data&&!n?(r.data=JSON.stringify(r.data),JS+=sS(r.data)):n&&(r.data.size?JS+=r.data.size:r.data instanceof FormData?JS+=aS(r.data):JS+=sS(JSON.stringify(r.data))),r.headers=r.headers||{},r.headers["Content-Type"]=r.headers["Content-Type"]||"application/json",r.method="POST",r.url=t,e.request(r).then((t=>{"string"==typeof t.data?QS+=sS(t.data):t.data instanceof ArrayBuffer||t.data instanceof Uint8Array?QS+=t.data.byteLength:QS+=sS(JSON.stringify(t.data)),o&&i({data:t.data,headers:t.headers}),i(t.data)})).catch((t=>{e.isCancel(t)?c(new _A(nA.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===t.code?c(new _A(nA.NETWORK_TIMEOUT,t.message)):t.response?c(new _A(nA.NETWORK_RESPONSE_ERROR,t.response.status)):c(new _A(nA.NETWORK_ERROR,t.message))}))}))}async function qS(t,e){const r=new Blob([e.data],{type:"buffer"});return await zS(t,jS(jS({},e),{},{data:r,headers:{"Content-Type":"application/octet-stream"}}),!0)}function ZS(){return JS}function $S(){return QS}function td(){JS=0,QS=0}class ed{constructor(t){this._transformStream=void 0,this._readable=void 0,this._writable=void 0,this._reader=void 0,this._writer=void 0,this._transformStream=new TransformStream({transform:t}),this._readable=this._transformStream.readable,this._writable=this._transformStream.writable,this._reader=this._readable.getReader(),this._writer=this._writable.getWriter()}get reader(){return this._reader}get writer(){return this._writer}close(){this.writer.releaseLock(),this._writable.close(),this.reader.cancel(),this.reader.releaseLock(),this._readable.cancel()}}function rd(t){if(t.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return t;const e=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(e&&e[1]&&e[2]){const t=e[1],r=e[2];return"".concat(t,".").concat(r)}const r=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(r&&r[1]&&r[2]){const t=r[1],e=r[2];return"".concat(t,".").concat(100*(Number(e)+1))}return"4.0.0.999"}const nd=()=>"HTTPS"===(XS||XS||(XS=(window.location.protocol.split(":")[0]||"").toUpperCase(),XS)),od=()=>void 0!==window.isSecureContext;function id(){return new M_((t=>{document.body?t():window.addEventListener("load",(()=>t()))}))}const cd=rd("4.20.0"),sd=function(){try{return!0===JSON.parse("true")}catch(t){return!0}}(),ad=["CHINA","GLOBAL"];var Ed;!function(t){t.Default="default",t.Auto="auto",t.Relay="relay",t.SdRtn="sd-rtn"}(Ed||(Ed={}));const ud="v4.20.0-0-g334e514b-dirty(12/8/2023, 3:47:51 PM)",_d={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:ad,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:100,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,DISABLE_FEC:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,ENABLE_DATASTREAM_2:!1,DATASTREAM_MAX_RETRANSMITS:10,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_INSTANT_VIDEO:!1,ENABLE_NTP_REPORT:!1,USE_XR:!1,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],PLUGIN_INFO:[]};function Td(t,e,r){var n,o;ul(n=Object.keys(_d)).call(n,t)&&(!r&&ul(o=Object.keys(Ad)).call(o,t)||(_d[t]=e))}function ld(t){return _d[t]}const Ad={};function fd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Id(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fd(Object(r),!0).forEach((function(e){jO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Rd;!function(t){t.SET_SESSION_ID="SET_SESSION_ID",t.SET_P2P_ID="SET_P2P_id",t.SET_DC_ID="SET_DC_id",t.SET_UID="SET_UID",t.SET_INT_UID="SET_INT_UID",t.SET_PUB_ID="SET_PUB_ID",t.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",t.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",t.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",t.AVOID_JOIN_START="AVOID_JOIN_START",t.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",t.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",t.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",t.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",t.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",t.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",t.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",t.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",t.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",t.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",t.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",t.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",t.RESET_KEY_METRICS="RESET_KEY_METRICS",t.SET_USE_DATACHANNEL="SET_USE_DATACHANNEL",t.SET_USE_P2P="SET_USE_P2P",t.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE"}(Rd||(Rd={}));class Od{constructor(t,e,r,n){this.state=void 0,this.state={codec:t,audioCodec:e,mode:r,clientId:n,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useDataChannel:!1,useP2P:!1,p2pTransport:Ed.Default}}dispatch(t){this.state=function(t,e){switch(e.type){case Rd.SET_SESSION_ID:return Id(Id({},t),{},{sessionId:e.sessionId});case Rd.SET_P2P_ID:return Id(Id({},t),{},{p2pId:e.p2pId});case Rd.SET_UID:return Id(Id({},t),{},{uid:e.uid});case Rd.SET_INT_UID:return Id(Id({},t),{},{intUid:e.intUid});case Rd.SET_PUB_ID:return Id(Id({},t),{},{pubId:e.pubId});case Rd.KEY_METRIC_CLIENT_CREATED:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{clientCreated:e.metric})});case Rd.KEY_METRIC_JOIN_START:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{joinStart:e.metric})});case Rd.AVOID_JOIN_START:return Id(Id({},t),{},{avoidJoinStart:e.avoidJoinStart});case Rd.KEY_METRIC_JOIN_END:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{joinEnd:e.metric})});case Rd.KEY_METRIC_REQUEST_AP_START:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{requestAPStart:e.metric})});case Rd.KEY_METRIC_REQUEST_AP_END:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{requestAPEnd:e.metric})});case Rd.KEY_METRIC_JOIN_GATEWAY_START:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{joinGatewayStart:e.metric})});case Rd.KEY_METRIC_JOIN_GATEWAY_END:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{joinGatewayEnd:e.metric})});case Rd.KEY_METRIC_PEER_CONNECTION_START:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{peerConnectionStart:e.metric})});case Rd.KEY_METRIC_PEER_CONNECTION_END:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{peerConnectionEnd:e.metric})});case Rd.KEY_METRIC_DESCRIPTION_START:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{descriptionStart:e.metric})});case Rd.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{signalChannelOpen:e.metric})});case Rd.KEY_METRIC_ICE_CONNECTION_END:return Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{iceConnectionEnd:e.metric})});case Rd.KEY_METRIC_PUBLISH:{const r=t.keyMetrics.publish,n=r.findIndex((t=>t.trackId===e.metric.trackId));return-1!==n?(r[n]=Id(Id({},r[n]),e.metric),Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{publish:[...r]})})):Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{publish:[...t.keyMetrics.publish,e.metric]})})}case Rd.KEY_METRIC_SUBSCRIBE:{const r=t.keyMetrics.subscribe,n=r.findIndex((t=>t.userId===e.metric.userId&&t.type===e.metric.type));return-1!==n?(r[n]=Id(Id({},r[n]),e.metric),Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{subscribe:[...r]})})):Id(Id({},t),{},{keyMetrics:Id(Id({},t.keyMetrics),{},{subscribe:[...t.keyMetrics.subscribe,e.metric]})})}case Rd.SET_CLOUD_PROXY_SERVER_MODE:return t.cloudProxyServerMode=e.mode,t;case Rd.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof e.index?t.joinChannelServiceRecords=[...t.joinChannelServiceRecords,e.record]:(t.joinChannelServiceRecords[e.index]=Id(Id({},t.joinChannelServiceRecords[e.index]),e.record),t.joinChannelServiceRecords=[...t.joinChannelServiceRecords]),t;case Rd.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return t.joinChannelServiceRecords=[],t;case Rd.RESET_KEY_METRICS:return t.keyMetrics={publish:[],subscribe:[]},t;case Rd.SET_USE_DATACHANNEL:return Id(Id({},t),{},{useDataChannel:e.val});case Rd.SET_USE_P2P:return Id(Id({},t),{},{useP2P:e.val});case Rd.SET_TRANSPORT_TYPE:return Id(Id({},t),{},{p2pTransport:e.val});default:return t}}(this.state,t)}set sessionId(t){this.dispatch({type:Rd.SET_SESSION_ID,sessionId:t})}get sessionId(){return this.state.sessionId}set codec(t){this.state.codec=t}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(t){this.dispatch({type:Rd.SET_P2P_ID,p2pId:t})}get p2pId(){return this.state.p2pId}set dcId(t){this.dispatch({type:Rd.SET_DC_ID,dcId:t})}get dcId(){return this.state.dcId}set uid(t){this.dispatch({type:Rd.SET_UID,uid:t})}get uid(){return this.state.uid}set intUid(t){this.dispatch({type:Rd.SET_INT_UID,intUid:t})}get intUid(){return this.state.intUid}set pubId(t){this.dispatch({type:Rd.SET_PUB_ID,pubId:t})}get pubId(){return this.state.pubId}set cloudProxyServerMode(t){this.dispatch({type:Rd.SET_CLOUD_PROXY_SERVER_MODE,mode:t})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useDataChannel(t){this.dispatch({type:Rd.SET_USE_DATACHANNEL,val:t})}get useDataChannel(){return this.state.useDataChannel}set useP2P(t){this.dispatch({type:Rd.SET_USE_P2P,val:t})}get useP2P(){return this.state.useP2P}set p2pTransport(t){this.dispatch({type:Rd.SET_TRANSPORT_TYPE,val:t})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:Rd.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:Rd.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:Rd.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:Rd.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:Rd.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:Rd.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:Rd.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:Rd.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:Rd.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:Rd.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:Rd.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:Rd.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(t,e,r,n){this.dispatch({type:Rd.KEY_METRIC_PUBLISH,metric:Id(Id({trackId:t,type:e},r&&{publishStart:r}),n&&{publishEnd:n})})}subscribe(t,e,r,n,o,i,c){this.dispatch({type:Rd.KEY_METRIC_SUBSCRIBE,metric:Id(Id(Id(Id(Id({userId:t,type:e},r&&{subscribeStart:r}),n&&{subscribeEnd:n}),o&&{firstFrame:o}),i&&{streamAdded:i}),c&&{firstDecoded:c})})}massSubscribe(t,e,r,n){t.forEach((t=>{this.dispatch({type:Rd.KEY_METRIC_SUBSCRIBE,metric:Id(Id(Id({userId:t.userId,type:t.type},e&&{subscribeStart:e}),r&&{subscribeEnd:r}),n&&{firstFrame:n})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(t,e){"gateway"===t.service&&Array.isArray(t.urls)&&(t.urls=t.urls.map((t=>t.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof e?(this.dispatch({type:Rd.RECORD_JOIN_CHANNEL_SERVICE,record:Id(Id({},t),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(e<0||e>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Rd.RECORD_JOIN_CHANNEL_SERVICE,record:t,index:e}),e)}catch(t){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:Rd.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:Rd.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(t){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(t){this.dispatch({type:Rd.AVOID_JOIN_START,avoidJoinStart:t})}}var Sd,dd;!function(t){t.h264="h264",t.h265="h265",t.vp8="vp8",t.vp9="vp9",t.av1="av1"}(Sd||(Sd={})),function(t){t.opus="opus",t.pcma="pcma",t.pcmu="pcmu",t.g722="g722"}(dd||(dd={}));export{FA as AgoraAPIName,BA as AgoraAPITag,_A as AgoraRTCError,nA as AgoraRTCErrorCode,kA as AudienceLatencyLevelType,dd as AudioCodec,ud as BUILD,x_ as BrowserName,H_ as BrowserOS,KA as ClientEvents,GA as ConnectionDisconnectedReason,ad as DEFAULT_AREAS,gS as DEFAULT_RETRY_CONFIG,bA as EventEmitter,sd as IS_GLOBAL_VERSION,_d as MUTABLE_PARAMS,Ad as MUTABLE_PARAMS_LOCAL_CACHE,xA as NETWORK_INDICATOR_EVENTS,HA as NETWORK_STATE,Ed as P2PTransportType,yS as PromiseMutex,xS as Rolling,Od as SDKStore,PA as SHA256,ed as TransformStreamAdapter,cd as VERSION,Sd as VideoCodec,WA as WebSocketQuitReason,DA as appendBuffer,DS as atom,iS as base64ToUint8Array,gA as bufferToStr,SA as checkIsEqual,OA as checkValidArray,lA as checkValidBoolean,IA as checkValidConstrainLong,AA as checkValidEnum,fA as checkValidNumber,RA as checkValidString,tS as compareArray,W_ as concurrent,w_ as createDefer,TA as createInternalUnexpectedError,V_ as createResolvedDefer,F_ as createTimeoutDefer,Z_ as deprecatedGetBrowserInfo,oS as detectSecureContext,ES as dividePackage,id as domLoadedPromise,mA as elementVisibleChecker,rf as emitAsInvoker,ef as emitAsInvokerNoResponse,$A as emitAsPromise,tf as emitAsPromiseNoResponse,vA as encryptRSA,AS as generateProcessID,fS as generateSessionID,hA as getBigInt64,pA as getBigUint64,J_ as getBrowserInfo,tT as getBrowserOS,$_ as getBrowserVersion,eS as getChangedKeysFromObject,FT as getChromeKernelVersion,VA as getElectronInstance,$S as getHTTPRecvBytes,ZS as getHTTPSendBytes,yA as getMessageEncoding,aS as getMultiUnilbsFormDataByteLength,eT as getOSWithVersion,ld as getParameter,lS as getRandomString,vS as getRetryWaitTime,sS as getUTF8StringByteLength,zO as getUniqueList,CS as hexToBytes,TT as isAboveChrome,AT as isAboveEdge,fT as isAboveFirefox,pT as isAboveIOS13,gT as isAboveIOS15_1,vT as isAboveIOS15_2,yT as isAboveIOS16_0,ST as isAboveOpera,IT as isAboveSafari,GT as isAndroid,KT as isAndroidChromium,RT as isBelowIOS,CT as isBelowIOS14_6,OT as isBelowSafari,lT as isBetweenBrowser,iT as isChrome,dT as isChromeBelow90,BT as isChromeKernel,jA as isClientConfig,zA as isClientRole,ZA as isClientRoleOptions,sT as isEdge,MA as isElectron,dA as isEmpty,QA as isEncryptionMode,aT as isFirefox,kT as isHarmonyOS,nd as isHttpsEnv,_T as isIOS,hT as isIOS13,LT as isIOS15,DT as isIOS15_0,mT as isIOS16,hS as isInPage,PT as isIpadOS,MT as isLegacyChrome,NT as isMacOS,ET as isOpera,qA as isP2PTransport,uT as isQQBrowser,XA as isRTCIceServerList,YA as isRetryConfiguration,cT as isSafari,VT as isSupportedMobile,UT as isSupportedPC,nT as isSupportedWkWebview,JA as isTurnServerConfig,NA as isValidString,oT as isWebKit,bT as isWechatBrowser,wT as isWindows,rT as isWkWebview,ZO as jsonClone,pS as md5,nf as networkIndicator,qO as nextTick,RS as noop,zS as post,qS as postProtobuf,NS as recursiveMerge,IS as releaseStream,QO as removeItemFromList,td as resetHTTPBytesCount,PS as retryable,nS as runOnce,$O as safeCloneJson,CA as setBigInt64,LA as setBigUint64,Td as setParameter,UA as showElectronSelectSourceWindow,od as supportIsSecureContext,SS as throttleByKey,uS as timeout,rd as transferVersion,Q_ as transformBrowserName,z_ as transformBrowserVersion,q_ as transformOSName,cS as uint8ArrayToBase64,K_ as updateConcurrentNumber,TS as wait,_S as withTimeout};
